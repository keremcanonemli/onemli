(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{159:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return c})),t.d(n,"toc",(function(){return s})),t.d(n,"default",(function(){return u}));var r=t(3),o=t(8),a=(t(0),t(281)),i={id:"enumerate",title:"Enumerate",sidebar_label:"Enumerate",slug:"enumerate",custom_edit_url:null},c={unversionedId:"python/10_useful_functions/enumerate",id:"python/10_useful_functions/enumerate",isDocsHomePage:!1,title:"Enumerate",description:"Sometimes, when iterating objects in for loop, it is necessary not only to get object itself but also its sequence number. This can be done by creating an additional variable that will increase by one with each iteration. However, it is much more convenient to do this with iterator enumerate.",source:"@site/docs/python/10_useful_functions/4_enumerate.md",slug:"/python/10_useful_functions/enumerate",permalink:"/tr/docs/python/10_useful_functions/enumerate",editUrl:null,version:"current",sidebar_label:"Enumerate",sidebar:"someSidebar",previous:{title:"Sorted",permalink:"/tr/docs/python/10_useful_functions/sorted"},next:{title:"Zip",permalink:"/tr/docs/python/10_useful_functions/zip"}},s=[{value:"An example of using enumerate for EEM",id:"an-example-of-using-enumerate-for-eem",children:[]}],l={toc:s};function u(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Sometimes, when iterating objects in ",Object(a.b)("strong",{parentName:"p"},"for")," loop, it is necessary not only to get object itself but also its sequence number. This can be done by creating an additional variable that will increase by one with each iteration. However, it is much more convenient to do this with iterator ",Object(a.b)("inlineCode",{parentName:"p"},"enumerate"),"."),Object(a.b)("p",null,"Basic example:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-python"},"In [15]: list1 = ['str1', 'str2', 'str3']\n\nIn [16]: for position, string in enumerate(list1):\n    ...:     print(position, string)\n    ...:\n0 str1\n1 str2\n2 str3\n")),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"enumerate")," can count not only from scratch but from any value that has been given to it after object:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-python"},"In [17]: list1 = ['str1', 'str2', 'str3']\n\nIn [18]: for position, string in enumerate(list1, 100):\n    ...:     print(position, string)\n    ...:\n100 str1\n101 str2\n102 str3\n")),Object(a.b)("p",null,"Sometimes it is necessary to check what iterator has generated. If you want to see full content that iterator generates you can use list() function:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-python"},"In [19]: list1 = ['str1', 'str2', 'str3']\n\nIn [20]: list(enumerate(list1, 100))\nOut[20]: [(100, 'str1'), (101, 'str2'), (102, 'str3')]\n")),Object(a.b)("h2",{id:"an-example-of-using-enumerate-for-eem"},"An example of using enumerate for EEM"),Object(a.b)("p",null,"This example uses Cisco ",Object(a.b)("a",{parentName:"p",href:"http://xgu.ru/wiki/EEM"},"EEM"),". In a nutshell, EEM allows you to perform some actions in response to an event."),Object(a.b)("p",null,"EEM applet looks like this:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre"},'event manager applet Fa0/1_no_shut\n event syslog pattern "Line protocol on Interface FastEthernet0/0, changed state to down"\n action 1 cli command "enable"\n action 2 cli command "conf t"\n action 3 cli command "interface fa0/1"\n action 4 cli command "no sh"\n')),Object(a.b)("p",null,"In EEM, in a situation where many actions need to be performed it is inconvenient to type ",Object(a.b)("inlineCode",{parentName:"p"},"action x cli command")," each time. Plus, most often, there is already a ready piece of configuration that must be executed by EEM."),Object(a.b)("p",null,"A simple Python script can generate EEM commands based on existing command list (enumerate_eem.py file):"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre"},"import sys\n\nconfig = sys.argv[1]\n\nwith open(config, 'r') as f:\n    for i, command in enumerate(f, 1):\n        print('action {:04} cli command \"{}\"'.format(i, command.rstrip()))\n")),Object(a.b)("p",null,"In this example, commands are read from a file and then EEM prefix is added to each line."),Object(a.b)("p",null,"File with commands looks like this (r1_config.txt):"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre"},"en\nconf t\nno int Gi0/0/0.300\nno int Gi0/0/0.301\nno int Gi0/0/0.302\nint range gi0/0/0-2\n channel-group 1 mode active\ninterface Port-channel1.300\n encapsulation dot1Q 300\n vrf forwarding Management\n ip address 10.16.19.35 255.255.255.248\n")),Object(a.b)("p",null,"The output is:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre"},'$ python enumerate_eem.py r1_config.txt\naction 0001 cli command "en"\naction 0002 cli command "conf t"\naction 0003 cli command "no int Gi0/0/0.300"\naction 0004 cli command "no int Gi0/0/0.301"\naction 0005 cli command "no int Gi0/0/0.302"\naction 0006 cli command "int range gi0/0/0-2"\naction 0007 cli command " channel-group 1 mode active"\naction 0008 cli command "interface Port-channel1.300"\naction 0009 cli command " encapsulation dot1Q 300"\naction 0010 cli command " vrf forwarding Management"\naction 0011 cli command " ip address 10.16.19.35 255.255.255.248"\n')))}u.isMDXComponent=!0},281:function(e,n,t){"use strict";t.d(n,"a",(function(){return m})),t.d(n,"b",(function(){return f}));var r=t(0),o=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=o.a.createContext({}),u=function(e){var n=o.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},m=function(e){var n=u(e.components);return o.a.createElement(l.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},b=o.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),m=u(t),b=r,f=m["".concat(i,".").concat(b)]||m[b]||p[b]||a;return t?o.a.createElement(f,c(c({ref:n},l),{},{components:t})):o.a.createElement(f,c({ref:n},l))}));function f(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,i=new Array(a);i[0]=b;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var l=2;l<a;l++)i[l]=t[l];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);