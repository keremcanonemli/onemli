(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{106:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return p})),t.d(n,"toc",(function(){return s})),t.d(n,"default",(function(){return c}));var a=t(3),r=t(8),o=(t(0),t(281)),i={id:"for",title:"For",sidebar_label:"For",slug:"for",custom_edit_url:null},p={unversionedId:"python/control_structures/for",id:"python/control_structures/for",isDocsHomePage:!1,title:"For",description:"Very often the same step should be performed for a set of the same data type. For example, convert all strings in list to uppercase. Python uses for loop for such purposes.",source:"@site/docs/python/control_structures/2_for.md",slug:"/python/control_structures/for",permalink:"/docs/python/control_structures/for",editUrl:null,version:"current",sidebar_label:"For",sidebar:"someSidebar",previous:{title:"If/Elif/Else",permalink:"/docs/python/control_structures/if_elif_else"},next:{title:"While",permalink:"/docs/python/control_structures/while"}},s=[],l={toc:s};function c(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Very often the same step should be performed for a set of the same data type. For example, convert all strings in list to uppercase. Python uses ",Object(o.b)("inlineCode",{parentName:"p"},"for")," loop for such purposes."),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"For")," loop iterates elements of specified sequence and performs actions specified for each element."),Object(o.b)("p",null,"Examples of sequences of elements that can be iterated by ",Object(o.b)("inlineCode",{parentName:"p"},"for"),":"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"string"),Object(o.b)("li",{parentName:"ul"},"list"),Object(o.b)("li",{parentName:"ul"},"dictionary"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"https://pyneng.readthedocs.io/en/latest/book/10_useful_functions/range.html#range"},"range")),Object(o.b)("li",{parentName:"ul"},"Any ",Object(o.b)("a",{parentName:"li",href:"https://pyneng.readthedocs.io/en/latest/book/13_iterator_generator/iterable.html#iterable"},"Iterable"))),Object(o.b)("p",null,"An example of converting strings in a list to uppercase without ",Object(o.b)("inlineCode",{parentName:"p"},"for")," loop:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"In [1]: words = ['list', 'dict', 'tuple']\n\nIn [2]: upper_words = []\n\nIn [3]: words[0]\nOut[3]: 'list'\n\nIn [4]: words[0].upper() # converting word to uppercase\nOut[4]: 'LIST'\n\nIn [5]: upper_words.append(words[0].upper()) # converting and adding to new list\n\nIn [6]: upper_words\nOut[6]: ['LIST']\n\nIn [7]: upper_words.append(words[1].upper())\n\nIn [8]: upper_words.append(words[2].upper())\n\nIn [9]: upper_words\nOut[9]: ['LIST', 'DICT', 'TUPLE']\n")),Object(o.b)("p",null,"This solution has several nuances:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"the same action need to be repeated several times"),Object(o.b)("li",{parentName:"ul"},"code is tied to a certain number of elements in ",Object(o.b)("em",{parentName:"li"},"words")," list")),Object(o.b)("p",null,"The same steps with the ",Object(o.b)("inlineCode",{parentName:"p"},"for")," loop:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"In [10]: words = ['list', 'dict', 'tuple']\n\nIn [11]: upper_words = []\n\nIn [12]: for word in words:\n    ...:     upper_words.append(word.upper())\n    ...:\n\nIn [13]: upper_words\nOut[13]: ['LIST', 'DICT', 'TUPLE']\n")),Object(o.b)("p",null,"Expression ",Object(o.b)("inlineCode",{parentName:"p"},"for word in words: upper_words.append(word.upper())")," means \u201cfor each word in ",Object(o.b)("inlineCode",{parentName:"p"},"words")," list to perform actions in block ",Object(o.b)("inlineCode",{parentName:"p"},"for"),"\u201d. In this case, ",Object(o.b)("inlineCode",{parentName:"p"},"word")," is the name of the variable, which refers to different values each iteration of the loop."),Object(o.b)("p",null,"Note"),Object(o.b)("p",null,"The ",Object(o.b)("a",{parentName:"p",href:"http://www.pythontutor.com/"},"pythontutor")," project can be very helpful in understanding loops. The project visualize code execution and allows you to see what happens at every stage of code execution, which is especially useful in first steps of learning loops. The ",Object(o.b)("a",{parentName:"p",href:"http://www.pythontutor.com/visualize.html#mode=edit"},"pythontutor")," allows you to upload your code, for instance, see ","[example above]","(",Object(o.b)("a",{parentName:"p",href:"http://www.pythontutor.com/visualize.html#code=words"},"http://www.pythontutor.com/visualize.html#code=words")," %3D ","['list', 'dict', 'tuple']"," upper_words %3D [] for word in words%3A    upper_words.append(word.upper()) &cumulative=false&curInstr=0&heapPrimitives=nevernest&mode=display&origin=opt-frontend.js&py=3&rawInputLstJSON=[]&textReferences=false)."),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"For")," loop can work with any sequence of elements. For example, the above code used a list and the loop iterated over the elements of the list. The for loop works in a similar way with tuples."),Object(o.b)("p",null,"When working with strings ",Object(o.b)("inlineCode",{parentName:"p"},"for")," loop iterates through string characters, for example:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"In [1]: for letter in 'Test string':\n   ...:     print(letter)\n   ...:\nT\ne\ns\nt\n\ns\nt\nr\ni\nn\ng\n")),Object(o.b)("p",null,"Note"),Object(o.b)("p",null,"Loop uses a variable named ",Object(o.b)("em",{parentName:"p"},"letter"),". Although, it could be any name, it is better when name tells you which objects go through a loop."),Object(o.b)("p",null,"Sometimes it is necessary to use sequence of numbers in loop. In this case, it is best to use ",Object(o.b)("a",{parentName:"p",href:"https://pyneng.readthedocs.io/en/latest/book/10_useful_functions/range.html#range"},"range")),Object(o.b)("p",null,"Example of loop ",Object(o.b)("inlineCode",{parentName:"p"},"for")," with range() function:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"In [2]: for i in range(10):\n   ...:     print('interface FastEthernet0/{}'.format(i))\n   ...:\ninterface FastEthernet0/0\ninterface FastEthernet0/1\ninterface FastEthernet0/2\ninterface FastEthernet0/3\ninterface FastEthernet0/4\ninterface FastEthernet0/5\ninterface FastEthernet0/6\ninterface FastEthernet0/7\ninterface FastEthernet0/8\ninterface FastEthernet0/9\n")),Object(o.b)("p",null,"This loop uses ",Object(o.b)("inlineCode",{parentName:"p"},"range(10)"),". Function range() generates numbers in range from zero to specified number (in this example, up to 10) not including it."),Object(o.b)("p",null,"In this example, loop runs through ",Object(o.b)("em",{parentName:"p"},"vlans")," list, so variable can be called ",Object(o.b)("em",{parentName:"p"},"vlan"),":"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"In [3]: vlans = [10, 20, 30, 40, 100]\nIn [4]: for vlan in vlans:\n   ...:     print('vlan {}'.format(vlan))\n   ...:     print(' name VLAN_{}'.format(vlan))\n   ...:\nvlan 10\n name VLAN_10\nvlan 20\n name VLAN_20\nvlan 30\n name VLAN_30\nvlan 40\n name VLAN_40\nvlan 100\n name VLAN_100\n")),Object(o.b)("p",null,"When a loop runs through dictionary, it actually goes through keys:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"In [34]: r1 = {\n    ...:      'ios': '15.4',\n    ...:      'ip': '10.255.0.1',\n    ...:      'hostname': 'london_r1',\n    ...:      'location': '21 New Globe Walk',\n    ...:      'model': '4451',\n    ...:      'vendor': 'Cisco'}\n    ...:\n\nIn [35]: for k in r1:\n    ...:     print(k)\n    ...:\nios\nip\nhostname\nlocation\nmodel\nvendor\n")),Object(o.b)("p",null,"If you want to print key-value pairs in loop, you can do this:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"In [36]: for key in r1:\n    ...:     print(key + ' => ' + r1[key])\n    ...:\nios => 15.4\nip => 10.255.0.1\nhostname => london_r1\nlocation => 21 New Globe Walk\nmodel => 4451\nvendor => Cisco\n")),Object(o.b)("p",null,"Or use items() method which allows you to run loop over a key-value pair:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"In [37]: for key, value in r1.items():\n    ...:     print(key + ' => ' + value)\n    ...:\nios => 15.4\nip => 10.255.0.1\nhostname => london_r1\nlocation => 21 New Globe Walk\nmodel => 4451\nvendor => Cisco\n")),Object(o.b)("p",null,"Method items() returns a special view object that displays key-value pairs:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"In [38]: r1.items()\nOut[38]: dict_items([('ios', '15.4'), ('ip', '10.255.0.1'), ('hostname', 'london_r1'), ('location', '21 New Globe Walk'), ('model', '4451'), ('vendor', 'Cisco')])\n")),Object(o.b)("h1",{id:"nested-for"},"Nested for"),Object(o.b)("p",null,"Loops ",Object(o.b)("inlineCode",{parentName:"p"},"for")," can be nested in each other."),Object(o.b)("p",null,"In this example, ",Object(o.b)("em",{parentName:"p"},"commands")," is a list of commands to execute on each interface in the ",Object(o.b)("em",{parentName:"p"},"fast_int")," list:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"In [7]: commands = ['switchport mode access', 'spanning-tree portfast', 'spanning-tree bpduguard enable']\nIn [8]: fast_int = ['0/1', '0/3', '0/4', '0/7', '0/9', '0/10', '0/11']\n\nIn [9]: for intf in fast_int:\n   ...:     print('interface FastEthernet {}'.format(intf))\n   ...:     for command in commands:\n   ...:         print(' {}'.format(command))\n   ...:\ninterface FastEthernet 0/1\n switchport mode access\n spanning-tree portfast\n spanning-tree bpduguard enable\ninterface FastEthernet 0/3\n switchport mode access\n spanning-tree portfast\n spanning-tree bpduguard enable\ninterface FastEthernet 0/4\n switchport mode access\n spanning-tree portfast\n spanning-tree bpduguard enable\n...\n")),Object(o.b)("p",null,"The first ",Object(o.b)("inlineCode",{parentName:"p"},"for")," loop passes through interfaces in the ",Object(o.b)("em",{parentName:"p"},"fast_int")," list and the second through commands in ",Object(o.b)("em",{parentName:"p"},"commands")," list."),Object(o.b)("h1",{id:"combination-for-and-if"},"Combination for and if"),Object(o.b)("p",null,"Consider example of combining ",Object(o.b)("inlineCode",{parentName:"p"},"for")," and ",Object(o.b)("inlineCode",{parentName:"p"},"if"),"."),Object(o.b)("p",null,"Generate_access_port_config.py file:"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"th"}," 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17")),Object(o.b)("th",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"th"},"access_template = ['switchport mode access',                    'switchport access vlan',                    'spanning-tree portfast',                    'spanning-tree bpduguard enable']  fast_int = {'access': {'0/12':10,                        '0/14':11,                        '0/16':17,                        '0/17':150}}  for intf, vlan in fast_int['access'].items():     print('interface FastEthernet' + intf)     for command in access_template:         if command.endswith('access vlan'):             print(' {} {}'.format(command, vlan))         else:             print(' {}'.format(command))")))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null}),Object(o.b)("td",{parentName:"tr",align:null})))),Object(o.b)("p",null,"Comments to the code:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"The first ",Object(o.b)("inlineCode",{parentName:"p"},"for")," loop iterates keys and values in nested fast_int","[\u2018access\u2019]"," dictionary")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"At this moment of loop the current key is stored in ",Object(o.b)("em",{parentName:"p"},"intf")," variable")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"At this moment of loop the current value is stored in ",Object(o.b)("em",{parentName:"p"},"vlan")," variable")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"String \u201cinterface Fastethernet\u201d is displayed with interface number added")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"The second loop ",Object(o.b)("inlineCode",{parentName:"p"},"for")," iterates commands from ",Object(o.b)("em",{parentName:"p"},"access_template")," list")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Since"))),Object(o.b)("p",null,"  switchport access to vlan"),Object(o.b)("p",null,"  command requires a VLAN number:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"within second loop ",Object(o.b)("inlineCode",{parentName:"li"},"for")," commands are checked"),Object(o.b)("li",{parentName:"ul"},"if command ends with \u201caccess vlan\u201d",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"command is displayed and VLAN number is added to it"))),Object(o.b)("li",{parentName:"ul"},"in all other cases, command is simply displayed")),Object(o.b)("p",null,"Result of script execution:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"$ python generate_access_port_config.py\ninterface FastEthernet0/12\n switchport mode access\n switchport access vlan 10\n spanning-tree portfast\n spanning-tree bpduguard enable\ninterface FastEthernet0/14\n switchport mode access\n switchport access vlan 11\n spanning-tree portfast\n spanning-tree bpduguard enable\ninterface FastEthernet0/16\n switchport mode access\n switchport access vlan 17\n spanning-tree portfast\n spanning-tree bpduguard enable\ninterface FastEthernet0/17\n switchport mode access\n switchport access vlan 150\n spanning-tree portfast\n spanning-tree bpduguard enable\n")))}c.isMDXComponent=!0},281:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return d}));var a=t(0),r=t.n(a);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=r.a.createContext({}),c=function(e){var n=r.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},b=function(e){var n=c(e.components);return r.a.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},m=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),b=c(t),m=a,d=b["".concat(i,".").concat(m)]||b[m]||u[m]||o;return t?r.a.createElement(d,p(p({ref:n},l),{},{components:t})):r.a.createElement(d,p({ref:n},l))}));function d(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=m;var p={};for(var s in n)hasOwnProperty.call(n,s)&&(p[s]=n[s]);p.originalType=e,p.mdxType="string"==typeof e?e:a,i[1]=p;for(var l=2;l<o;l++)i[l]=t[l];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);