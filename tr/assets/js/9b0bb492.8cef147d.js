(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{204:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return p})),t.d(n,"toc",(function(){return s})),t.d(n,"default",(function(){return l}));var r=t(3),i=t(8),o=(t(0),t(280)),c={id:"create_your_own_modules",title:"Create Your Own Modules",sidebar_label:"11.2 Create Your Own Modules",slug:"create_your_own_modules",custom_edit_url:null},p={unversionedId:"python/modules/create_your_own_modules",id:"python/modules/create_your_own_modules",isDocsHomePage:!1,title:"Create Your Own Modules",description:"Module is a file with .py extension and Python code.",source:"@site/docs/python/modules/2_create_your_own.md",slug:"/python/modules/create_your_own_modules",permalink:"/tr/docs/python/modules/create_your_own_modules",editUrl:null,version:"current",sidebar_label:"11.2 Create Your Own Modules",sidebar:"someSidebar",previous:{title:"Module Import",permalink:"/tr/docs/python/modules/module_import"},next:{title:"If Name Main",permalink:"/tr/docs/python/modules/if_name_main"}},s=[],a={toc:s};function l(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},a,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Module is a file with ",Object(o.b)("inlineCode",{parentName:"p"},".py")," extension and Python code."),Object(o.b)("p",null,"Example of creating your own modules and importing a function from one module to another."),Object(o.b)("p",null,"File check_ip_function.py:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"import ipaddress\n\n\ndef check_ip(ip):\n    try:\n        ipaddress.ip_address(ip)\n        return True\n    except ValueError as err:\n        return False\n\n\nip1 = '10.1.1.1'\nip2 = '10.1.1'\n\nprint('Checking IP...')\nprint(ip1, check_ip(ip1))\nprint(ip2, check_ip(ip2))\n")),Object(o.b)("p",null,"File check_ip_function.py has created check_ip function which checks that argument is an IP address. This is done by using ",Object(o.b)("strong",{parentName:"p"},"ipaddress")," module which will be discussed in the next section."),Object(o.b)("p",null,"Function ",Object(o.b)("inlineCode",{parentName:"p"},"ipaddress.ip_address")," checks the correctness of IP address and generates ValueError exception if address is not validated. Function ",Object(o.b)("inlineCode",{parentName:"p"},"check_ip")," returns True if address is valid and False if not."),Object(o.b)("p",null,"If you run check_ip_function.py script, the output is:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"$ python check_ip_function.py\nChecking IP...\n10.1.1.1 True\n10.1.1 False\n")),Object(o.b)("p",null,"The second script imports ",Object(o.b)("inlineCode",{parentName:"p"},"check_ip")," function and uses it to select from address list only those that passed the check (get_correct_ip.py file):"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"from check_ip_function import check_ip\n\n\ndef return_correct_ip(ip_addresses):\n    correct = []\n    for ip in ip_addresses:\n        if check_ip(ip):\n            correct.append(ip)\n    return correct\n\nprint('Cheking list of IP addresses')\nip_list = ['10.1.1.1', '8.8.8.8', '2.2.2']\ncorrect = return_correct_ip(ip_list)\nprint(correct)\n")),Object(o.b)("p",null,"First line imports check_ip function from check_ip_function.py module."),Object(o.b)("p",null,"Result of script execution:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"$ python get_correct_ip.py\nCheking IP...\n10.1.1.1 True\n10.1.1 False\nCheking list of IP addresses\n['10.1.1.1', '8.8.8.8']\n")),Object(o.b)("p",null,"Note that not only information from get_correct_ip.py script is displayed, but also information from check_ip_function.py. This is because any type of import executes the entire script. That is, even when import looks like ",Object(o.b)("inlineCode",{parentName:"p"},"from check_ip_function import check_ip"),", entire check_ip_function.py script is executed, not just check_ip function. As a result, all messages of imported script will be displayed."),Object(o.b)("p",null,"Messages from imported script are not scary, they are just confusing. Worse when script performed some kind of connection to equipment and when importing a function from it, we will have to wait for connection to take place."),Object(o.b)("p",null,"Python can specify that some strings should not be executed when importing. This is discussed in the following subsection."),Object(o.b)("p",null,"Note"),Object(o.b)("p",null,"Function ",Object(o.b)("inlineCode",{parentName:"p"},"return_correct_ip")," can be replaced by a ",Object(o.b)("inlineCode",{parentName:"p"},"filter")," or a list comprehension. Above is used the longer but most likely more understandable option:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"In [19]: list(filter(check_ip, ip_list))\nOut[19]: ['10.1.1.1', '8.8.8.8']\n\nIn [20]: [ip for ip in ip_list if check_ip(ip)]\nOut[20]: ['10.1.1.1', '8.8.8.8']\n\nIn [21]: def return_correct_ip(ip_addresses):\n    ...:     return [ip for ip in ip_addresses if check_ip(ip)]\n    ...:\n\nIn [22]: return_correct_ip(ip_list)\nOut[22]: ['10.1.1.1', '8.8.8.8']\n")))}l.isMDXComponent=!0},280:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return f}));var r=t(0),i=t.n(r);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var a=i.a.createContext({}),l=function(e){var n=i.a.useContext(a),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},u=function(e){var n=l(e.components);return i.a.createElement(a.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},b=i.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,a=s(e,["components","mdxType","originalType","parentName"]),u=l(t),b=r,f=u["".concat(c,".").concat(b)]||u[b]||d[b]||o;return t?i.a.createElement(f,p(p({ref:n},a),{},{components:t})):i.a.createElement(f,p({ref:n},a))}));function f(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,c=new Array(o);c[0]=b;var p={};for(var s in n)hasOwnProperty.call(n,s)&&(p[s]=n[s]);p.originalType=e,p.mdxType="string"==typeof e?e:r,c[1]=p;for(var a=2;a<o;a++)c[a]=t[a];return i.a.createElement.apply(null,c)}return i.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);