<!doctype html>
<html lang="tr" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.71">
<link rel="alternate" type="application/rss+xml" href="/tr/blog/rss.xml" title="ONEMLI Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tr/blog/atom.xml" title="ONEMLI Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-88680692-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Jinja2 Template Syntax | ONEMLI</title><meta data-react-helmet="true" property="og:url" content="https://keremcanonemli.github.io/tr/docs/python/jinja2/jinja2_template_syntax"><meta data-react-helmet="true" name="docusaurus_locale" content="tr"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Jinja2 Template Syntax | ONEMLI"><meta data-react-helmet="true" name="description" content="So far, only variable substitution has been used in Jinja2 template examples. This is the simplest and most understandable example of using templates. Syntax of Jinja templates is not limited to this."><meta data-react-helmet="true" property="og:description" content="So far, only variable substitution has been used in Jinja2 template examples. This is the simplest and most understandable example of using templates. Syntax of Jinja templates is not limited to this."><link data-react-helmet="true" rel="shortcut icon" href="/tr/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://keremcanonemli.github.io/tr/docs/python/jinja2/jinja2_template_syntax"><link data-react-helmet="true" rel="alternate" href="https://keremcanonemli.github.io/docs/python/jinja2/jinja2_template_syntax" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://keremcanonemli.github.io/tr/docs/python/jinja2/jinja2_template_syntax" hreflang="tr"><link data-react-helmet="true" rel="alternate" href="https://keremcanonemli.github.io/docs/python/jinja2/jinja2_template_syntax" hreflang="x-default"><link rel="stylesheet" href="/tr/assets/css/styles.2d8e0ee0.css">
<link rel="preload" href="/tr/assets/js/styles.f686d0ec.js" as="script">
<link rel="preload" href="/tr/assets/js/runtime~main.bb62884f.js" as="script">
<link rel="preload" href="/tr/assets/js/main.5835f4df.js" as="script">
<link rel="preload" href="/tr/assets/js/1.c045dcd2.js" as="script">
<link rel="preload" href="/tr/assets/js/2.d178988b.js" as="script">
<link rel="preload" href="/tr/assets/js/207.76ba2f0e.js" as="script">
<link rel="preload" href="/tr/assets/js/209.7084d108.js" as="script">
<link rel="preload" href="/tr/assets/js/935f2afb.756c754f.js" as="script">
<link rel="preload" href="/tr/assets/js/17896441.57d51a09.js" as="script">
<link rel="preload" href="/tr/assets/js/e6199db5.2f5ff938.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Ana i√ßeriƒüe ge√ß</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tr/"><img src="/tr/img/logo.svg" alt="ONEMLI Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/tr/img/logo.svg" alt="ONEMLI Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">KRMCNONEMLI</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/tr/docs/">Journal</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>T√ºrk√ße</span></span></a><ul class="dropdown__menu"><li><a href="/docs/python/jinja2/jinja2_template_syntax" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/tr/docs/python/jinja2/jinja2_template_syntax" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">T√ºrk√ße</a></li></ul></div><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/tr/"><img src="/tr/img/logo.svg" alt="ONEMLI Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/tr/img/logo.svg" alt="ONEMLI Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">KRMCNONEMLI</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/tr/docs/">Journal</a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></a><ul class="menu__list"><li class="menu__list-item"><a href="/docs/python/jinja2/jinja2_template_syntax" target="_self" rel="noopener noreferrer" class="menu__link">English</a></li><li class="menu__list-item"><a href="/tr/docs/python/jinja2/jinja2_template_syntax" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active">T√ºrk√ße</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Men√ºy√º a√ß" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Python for Network Engineers</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">1. Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/">1.1 Working Enviroment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/intro/os_and_editor">1.2 Os And Editor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/intro/package_management_system_pip">1.3 Package Management System Pip</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/intro/virtual_environment">1.4 Virtual Environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/intro/python_interpreter">1.5 Python Interpreter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/intro/further_reading">1.6 Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/intro/exercises">1.7 Exercises</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">2. Git Github</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/git_github/using_git_and_github">2.0 Using Git And Github</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/git_github/git_fundamentals">2.1 Git Fundamentals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/git_github/displaying_repository_status_in_invitation">2.2 Displaying Repository Status In Invitation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/git_github/working_with_git">2.3 Working With Git</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/git_github/additional_features">2.4 Additional Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/git_github/github_authentication">2.5 Github Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/git_github/working_with_own_repository">2.6 Working With Own Repository</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/git_github/working_with_repository_of_tasks_and_examples">2.7 Working With Repository Of Tasks And Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/git_github/further_reading">2.8 Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/git_github/tasks">2.9 Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">3. Starting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/start/python_syntax">3.1 Python Syntax</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/start/python_interpreter._ipython">3.2 Python Interpreter. Ipython</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/start/ipython_special_commands">3.3 Ipython Special Commands</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/start/variables">3.4 Variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/start/tasks">3.5 Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">4. Data Structures</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/data_structures/python_data_types">4.0 Python Data Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/data_structures/numbers">4.1 Numbers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/data_structures/strings">4.2 Strings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/data_structures/lists">4.3 Lists</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/data_structures/dictionary">4.4 Dictionary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/data_structures/tuple">4.5 Tuple</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/data_structures/set">4.6 Set</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/data_structures/boolean_values">4.7 Boolean Values</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/data_structures/types_conversion">4.8 Types Conversion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/data_structures/types_checking">4.9 Types Checking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/data_structures/method_chaining">4.10 Method Chaining</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/data_structures/sorting_basics">4.11 Sorting Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/data_structures/further_reading">4.12 Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/data_structures/tasks">4.13 Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">5. Basic Scripts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/basic_scripts/basic_scripts">5.0 Basic Scripts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/basic_scripts/executable_file">5.1 Executable File</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/basic_scripts/passing_arguments_to_the_script">5.2 Passing Arguments To The Script</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/basic_scripts/user_input">5.3 User Input</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/basic_scripts/tasks">5.4 Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">6. Control Structures</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/control_structures/control_structures">6.0 Control Structures</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/control_structures/if_elif_else">6.1 If/Elif/Else</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/control_structures/for">6.2 For</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/control_structures/while">6.3 While</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/control_structures/break_continue_pass">6.4 Break/Continue/Pass</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/control_structures/for_else_while_else">6.5 For Else While Else</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/control_structures/working_with_try_except_else_finally">6.6 Working With Try Except Else Finally</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/control_structures/further_reading">6.7 Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/control_structures/tasks">6.8 Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">7. Files</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/files/working_with_files">7.0 Working With Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/files/file_opening">7.1 File Opening</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/files/file_reading">7.2 File Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/files/file_writing">7.3 File Writing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/files/file_closing">7.4 File Closing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/files/with_statement">7.5 With Statement</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/files/examples">7.6 Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/files/further_reading">7.7 Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/files/tasks">7.8 Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">8. Python Basic Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/python_basic_examples/python_basic_examples">8.0 Python Basic Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/python_basic_examples/formatting_lines_with_f_strings">8.1 Formatting Lines With F-Strings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/python_basic_examples/variable_unpacking">8.2 Variable Unpacking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/python_basic_examples/list_dict_set_comprehensions">8.3 List Dict Set Comprehensions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/python_basic_examples/further_reading">8.4 Further Reading</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">9. Functions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/functions/functions">9.0 Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/functions/creation_of_functions">9.1 Creation Of Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/functions/namespace_scope_of_variables">9.2 Namespace Scope Of Variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/functions/function_parameters_and_arguments">9.3 unction Parameters And Arguments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/functions/example">9.4 Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/functions/further_reading">9.5 Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/functions/tasks">9.6 Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">10. Useful Functions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/useful_functions/print">10.1 Print</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/useful_functions/range">10.2 Range</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/useful_functions/sorted">10.3 Sorted</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/useful_functions/enumerate">10.4 Enumerate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/useful_functions/zip">10.5 Zip</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/useful_functions/all">10.6 All</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/useful_functions/any">10.7 Any</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/useful_functions/anonymous_function_(lambda_expression)">10.8 Anonymous Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/useful_functions/map">10.9 Map</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/useful_functions/filter">10.10 Filter</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">11. Modules</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/modules/modules">11.0 Modules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/modules/module_import">11.1 Module Import</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/modules/create_your_own_modules">11.2 Create Your Own Modules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/modules/if_name_main">11.3 If Name Main</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/modules/further_reading">11.4 Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/modules/tasks">11.5 Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">12. Useful Modules</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/useful_modules/subprocess">12.1 Subprocess</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/useful_modules/os">12.2 Os</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/useful_modules/ipaddress">12.3 IPaddress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/useful_modules/tabulate">12.4 Tabulate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/useful_modules/pprint">12.5 Pprint</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/useful_modules/tasks">12.6 Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">13. Iterator Generator</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/iterator_generator/iterable">13.1 Iterable</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/iterator_generator/iterators">13.2 Iterators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/iterator_generator/generator">13.3 Generator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/iterator_generator/further_reading">13.4 Further Reading</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">14. Regex</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/regex/regular_expressions">14.0 Regular Expressions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/regex/regular_expression_syntax">14.1 Regular Expression Syntax</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/regex/character_sets">14.2 Character Sets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/regex/repeating_characters">14.3 Repeating Characters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/regex/special_symbols">14.4 Special Symbols</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/regex/greedy_qualifiers">14.5 Greedy Qualifiers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/regex/grouping">14.6 Grouping</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/regex/parsing_the_output">14.7 Parsing The Output</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/regex/non-capturing_group">14.8 Non-Capturing Group</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/regex/repeating_the_captured_result">14.9 Repeating The Captured Result</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">15. Module Re</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/module_re/module_re">15.1 Module Re</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/module_re/match_object">15.2 Match Object</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/module_re/search_function">15.3 Search Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/module_re/match_function">15.4 Match Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/module_re/finditer_function">15.5 Finditer Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/module_re/findall_function">15.6 Findall Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/module_re/compile_function">15.7 Compile Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/module_re/flags">15.8 Flags</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/module_re/function_re.split">15.9 Function Re.Split</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/module_re/function_re.sub">15.10 Function Re.Sub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/module_re/further_reading">15.11 Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/module_re/tasks">15.12 Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">16. Unicode</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/unicode/unicode">16.0 Unicode</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/unicode/unicode_standard">16.1 Unicode Standard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/unicode/unicode_in_python_3">16.2 Unicode In Python 3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/unicode/conversion_between_bytes_and_strings">16.3 Conversion Between Bytes And Strings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/unicode/examples_of_converting_between_bytes_and_strings">16.4 Examples Of Converting Between Bytes And Strings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/unicode/converting_errors">16.5 Converting Errors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/unicode/further_reading">16.6 Further Reading</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">17. CSV JSON YAML</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/csv_json_yaml/working_with_csv_json_yaml_files">17.0 Working With Csv Json Yaml Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/csv_json_yaml/work_with_csv_files">17.1 Work With Csv Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/csv_json_yaml/work_with_json_files">17.2 Work With Json Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/csv_json_yaml/work_with_yaml_files">17.3 Work With Yaml Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/csv_json_yaml/further_reading">17.4 Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/csv_json_yaml/tasks">17.5 Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">18. SSH Telnet</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/ssh_telnet/connection_to_network_devices">18.0 Connection To Network Devices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/ssh_telnet/password_input">18.1 Password Input</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/ssh_telnet/module_pexpect">18.2 Module Pexpect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/ssh_telnet/example_of_pexpect_use">18.3 Example Of Pexpect Use</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/ssh_telnet/module_telnetlib">18.4 Module Telnetlib</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/ssh_telnet/module_paramiko">18.5 Module Paramiko</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/ssh_telnet/module_netmiko">18.6 Module Netmiko</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/ssh_telnet/further_reading">18.7 Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/ssh_telnet/tasks">18.8 Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">19. Concurrent Connections</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/concurrent_connections/concurent_connections_to_multiple_devices">19.0 Concurent Connections To Multiple Devices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/concurrent_connections/measure_script_execution_time">19.1 Measure Script Execution Time</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/concurrent_connections/processes_and_threads_in_python">19.2 Processes And Threads In Python (Cpython)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/concurrent_connections/number_of_threads">19.3 Number Of Threads</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/concurrent_connections/thread_safety">19.4 Thread Safety</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/concurrent_connections/module_logging">19.5 Module Logging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/concurrent_connections/module_concurrent_futures">19.6 Module Concurrent.Futures</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/concurrent_connections/further_reading">19.7 Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/concurrent_connections/tasks">19.8 Tasks</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">20. Jinja2</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/tr/docs/python/jinja2/jinja2_configuration_templates">20.0 Jinja2 Configuration Templates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/tr/docs/python/jinja2/getting_started_with_jinja2">20.1 Getting Started With Jinja2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/tr/docs/python/jinja2/example_of_using_jinja">20.2 Example Of Using Jinja</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/tr/docs/python/jinja2/jinja2_template_syntax">20.3 Jinja2 Template Syntax</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/tr/docs/python/jinja2/template_inheritance">20.4 Template Inheritance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/tr/docs/python/jinja2/further_reading">20.5 Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/tr/docs/python/jinja2/tasks">20.6Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">21. TextFSM</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/textfsm/parsing_command_output_with_textfsm">21.0 Parsing Command Output With Textfsm</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/textfsm/getting_started_with_textfsm">21.1 Getting Started With Textfsm</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/textfsm/textfsm_template_syntax">21.2 Textfsm Template Syntax</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/textfsm/state_rules">21.3 State Rules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/textfsm/examples_of_textfsm_usage">21.4 Examples Of Textfsm Usage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/textfsm/textfsm_cli_table">21.5 Textfsm Cli Table</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/textfsm/further_reading">21.6 Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/textfsm/tasks">21.7 Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">22. OOP Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_basics/basics_of_object_oriented_programming">22.0 Basics Of Object-Oriented Programming</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_basics/oop_basics">22.1 Oop Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_basics/class_creation">22.2 Class Creation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_basics/method_creation">22.3 Method Creation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_basics/parameter_self">22.4 Parameter Self</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_basics/method_init">22.5 Method `__Init__`</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_basics/class_example">22.6 Class Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_basics/class_namespace">22.7 Class Namespace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_basics/class_variables">22.8 Class Variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_basics/tasks">22.9 Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">23. OOP Special Methods</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_special_methods/special_methods">23.0 Special Methods</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_special_methods/underscore_in_names">23.1 Underscore In Names</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_special_methods/methods_str_and_repr">23.2 Methods Str And Repr</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_special_methods/arithmetic_operator_support">23.3 Arithmetic Operator Support</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_special_methods/protocols">23.4 Protocols</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_special_methods/tasks">23.5 Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">24. OOP Inheritance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_inheritance/inheritance_basics">24.1 Inheritance Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/python/oop_inheritance/tasks">24.2 Tasks</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Netmiko</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">üì¶ Methods</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/netmiko/methods/netmiko_enable">enable()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/netmiko/methods/netmiko_exit_enable_mode_method">‚öôÔ∏è exit_enable_mode()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/netmiko/methods/netmiko_check_enable_mode_method">‚öôÔ∏è check_enable_mode()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/netmiko/methods/netmiko_config_mode_method">‚öôÔ∏è config_mode()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/netmiko/methods/netmiko_check_config_mode_method">‚öôÔ∏è check_config_mode()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/netmiko/methods/netmiko_exit_config_mode_method">‚öôÔ∏è exit_config_mode()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/netmiko/methods/netmiko_send_command_method">‚öôÔ∏è send_command()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/netmiko/methods/netmiko_send_config_set_method">‚öôÔ∏è send_config_set()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/netmiko/methods/netmiko_find_prompt_method">‚öôÔ∏è find_prompt()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/netmiko/methods/netmiko_strip_command_method">‚öôÔ∏è strip_command()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/netmiko/methods/netmiko_strip_prompt_method">‚öôÔ∏è strip_prompt()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/netmiko/methods/netmiko_strip_backspace_method">‚öôÔ∏è strip_backspace()</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">üìë  Scripts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/netmiko/scripts/netmiko_connecting_devices">üíª Connecting Devices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tr/docs/netmiko/scripts/netmiko_using_textfsm_templates">üíª TextFSM Templates</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Jinja2 Template Syntax</h1></header><div class="markdown"><p>So far, only variable substitution has been used in Jinja2 template examples. This is the simplest and most understandable example of using templates. Syntax of Jinja templates is not limited to this.</p><p>In Jinja2 templates you can use :</p><ul><li>variables</li><li>conditions (if/else)</li><li>loops (for)</li><li>filters - special built-in methods that allow to convert variables</li><li>tests - are used to check whether a variable matches a condition</li></ul><p>In addition, Jinja supports inheritance between templates and also allows adding the contents of one template to another. This section covers only few possibilities. More information about Jinja2 templates can be found in <a href="http://jinja.pocoo.org/docs/dev/templates/" target="_blank" rel="noopener noreferrer">documentation</a>.</p><p>Note</p><p>All files used as examples in this subsection are in 3_template_syntax/ directory</p><p>Script cfg_gen.py will be used to generate templates.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">from jinja2 import Environment, FileSystemLoader</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">import yaml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">import sys</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">import os</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"># python cfg_gen.py templates/for.txt data_files/for.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">template_dir, template = os.path.split(sys.argv[1])</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vars_file = sys.argv[2]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">env = Environment(</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    loader=FileSystemLoader(template_dir),</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    trim_blocks=True,</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    lstrip_blocks=True)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">template = env.get_template(template_file)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">with open(vars_file) as f:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    vars_dict = yaml.safe_load(f)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">print(template.render(vars_dict))</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>In order to see the result, you have to call the script and give it two arguments:</p><ul><li>template</li><li>file with variables in YAML format</li></ul><p>The result will be displayed on standard output stream.</p><p>Example of script run:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/variables.txt data_files/vars.yml</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Parameters trim_blocks and lstrip_blocks are described in the following subsections.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="control-of-whitespace-symbols"></a>Control of whitespace symbols<a class="hash-link" href="#control-of-whitespace-symbols" title="Ba≈ülƒ±ƒüa doƒürudan baƒülantƒ±">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="trim_blocks-lstrip_blocks"></a>trim_blocks, lstrip_blocks<a class="hash-link" href="#trim_blocks-lstrip_blocks" title="Ba≈ülƒ±ƒüa doƒürudan baƒülantƒ±">#</a></h2><p>Parameter <code>trim_blocks</code> removes the first empty line after block if its value is True (default False).</p><p>Effect of using the flag is showed on example templates/env_flags.txt:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% for ibgp in bgp.ibgp_neighbors %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} remote-as {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} update-source {{ bgp.loopback }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>If cfg_gen.py script starts without trim_blocks, lstrip_blocks:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">env = Environment(loader=FileSystemLoader(TEMPLATE_DIR))</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>The output is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/env_flags.txt data_files/router.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 update-source lo100</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>new lines occur because of <code>for</code> block.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for ibgp in bgp.ibgp_neighbors %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>By default, the same behavior will be with any other Jinja blocks.</p><p>When trim_blocks flag is added:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">env = Environment(loader=FileSystemLoader(TEMPLATE_DIR),</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">                  trim_blocks=True)</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>The result will be:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/env_flags.txt data_files/router.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  neighbor 10.0.0.2 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  neighbor 10.0.0.3 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 update-source lo100</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Empty lines after block were removed.</p><p>In front of <code>neighbor ... remote-as</code> lines two spaces appeared. This is because there is a space in front of <code>for</code> block. Once lstrip_blocks has been disabled, spaces and tabs in front of the block are added to the first line of block.</p><p>This does not affect the next lines. Therefore, lines with <code>neighbor ... update-source</code> are displayed with one space.</p><p>Parameter <code>lstrip_blocks</code> controls whether spaces and tabs will be removed from the beginning of line to the beginning of block (untill opening curly bracket).</p><p>If add <code>lstrip_blocks=True</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">env = Environment(loader=FileSystemLoader(TEMPLATE_DIR),</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">                  trim_blocks=True, lstrip_blocks=True)</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>The result will be:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/env_flags.txt data_files/router.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 update-source lo100</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="disabling-lstrip_blocks-for-block"></a>Disabling lstrip_blocks for block<a class="hash-link" href="#disabling-lstrip_blocks-for-block" title="Ba≈ülƒ±ƒüa doƒürudan baƒülantƒ±">#</a></h2><p>Sometimes you need to disable lstrip_blocks in block.</p><p>For example, if <code>lstrip_blocks</code> is set to True in an environment, but must be disabled for the second block in template (templates/flagenv_s2.txt file):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% for ibgp in bgp.ibgp_neighbors %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} remote-as {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} update-source {{ bgp.loopback }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endfor %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {%+ for ibgp in bgp.ibgp_neighbors %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} remote-as {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} update-source {{ bgp.loopback }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>The result will be:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/env_flags2.txt data_files/router.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  neighbor 10.0.0.2 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 update-source lo100</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Plus sign after percent sign disables lstrip_blocks for the block, in this case, only in the beginning.</p><p>If done this way (plus is added in the end block expression):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% for ibgp in bgp.ibgp_neighbors %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} remote-as {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} update-source {{ bgp.loopback }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endfor %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {%+ for ibgp in bgp.ibgp_neighbors %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} remote-as {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} update-source {{ bgp.loopback }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {%+ endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>It will be disabled for the end of the block:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/env_flags2.txt data_files/router.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  neighbor 10.0.0.2 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  neighbor 10.0.0.3 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 update-source lo100</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="removing-whitespace-from-block"></a>Removing whitespace from block<a class="hash-link" href="#removing-whitespace-from-block" title="Ba≈ülƒ±ƒüa doƒürudan baƒülantƒ±">#</a></h2><p>Similarly, you can control whitespace removal for a block.</p><p>For this example, flags are not set in environment:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">env = Environment(loader=FileSystemLoader(TEMPLATE_DIR))</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Template templates/env_flags3.txt:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% for ibgp in bgp.ibgp_neighbors %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} remote-as {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} update-source {{ bgp.loopback }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endfor %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {%- for ibgp in bgp.ibgp_neighbors %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} remote-as {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} update-source {{ bgp.loopback }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Note the minus at the beginning of second block. Minus removes all whitespace characters, in this case, at the beginning of the block.</p><p>The result will be:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/env_flags3.txt data_files/router.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 update-source lo100</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>If you add minus to the end of the block:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% for ibgp in bgp.ibgp_neighbors %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} remote-as {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} update-source {{ bgp.loopback }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endfor %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {%- for ibgp in bgp.ibgp_neighbors %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} remote-as {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} update-source {{ bgp.loopback }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {%- endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Empty string at the end of the block will be deleted:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/env_flags3.txt data_files/router.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 update-source lo100</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Try to add minus at the end of expressions describing the block and look at the result:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% for ibgp in bgp.ibgp_neighbors %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} remote-as {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} update-source {{ bgp.loopback }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endfor %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {%- for ibgp in bgp.ibgp_neighbors -%}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} remote-as {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} update-source {{ bgp.loopback }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {%- endfor -%}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="variables"></a>Variables<a class="hash-link" href="#variables" title="Ba≈ülƒ±ƒüa doƒürudan baƒülantƒ±">#</a></h1><p>Variables in template are given in double curly braces:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">hostname {{ name }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Loopback0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> ip address 10.0.0.{{ id }} 255.255.255.255</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Variable values are set based on dictionary that is passed to template.</p><p>Variable that is passed on in a dictionary may not only be a number or a string, but also for example, a list or a dictionary. Inside template, you can refer to the item by number or key.</p><p>Template example templates/variables.txt with usage of different variable variants:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">hostname {{ name }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Loopback0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> ip address 10.0.0.{{ id }} 255.255.255.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan {{ vlans[0] }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> router-id 10.0.0.{{ id }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth 10000</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network {{ ospf.network }} area {{ ospf[&#x27;area&#x27;] }}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>And corresponding data_files/vars.yml file with variables:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">id: 3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">name: R3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlans:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - 10</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - 20</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - 30</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">ospf:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  network: 10.0.1.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  area: 0</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Note the use of vlans variable in template: since vlans variable is a list, you can specify which item from list we need</p><p>If a dictionary is passed (as in case of ospf variable), you can refer to dictionary objects inside template using one of the variants: <code>ospf.network or ospf[&#x27;network&#x27;]</code></p><p>The result will be:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/variables.txt data_files/vars.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">hostname R3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Loopback0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> ip address 10.0.0.3 255.255.255.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan 10</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> router-id 10.0.0.3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth 10000</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.1.0 0.0.0.255 area 0</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="loop-for"></a>Loop for<a class="hash-link" href="#loop-for" title="Ba≈ülƒ±ƒüa doƒürudan baƒülantƒ±">#</a></h1><p>Loop <code>for</code> allows you to walk through sequence of elements.</p><p>Loop <code>for</code> must be written inside <code>{% %}</code>. Furthermore, the end of the loop must be explicitly indicated:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for vlan in vlans %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  vlan {{ vlan }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Template example templates/for.txt using a loop:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">hostname {{ name }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Loopback0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> ip address 10.0.0.{{ id }} 255.255.255.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for vlan, name in vlans.items() %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan {{ vlan }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name {{ name }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endfor %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> router-id 10.0.0.{{ id }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth 10000</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% for networks in ospf %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network {{ networks.network }} area {{ networks.area }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>File data_files/for.yml with variables:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">id: 3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">name: R3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlans:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  10: Marketing</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  20: Voice</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  30: Management</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">ospf:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.0.1.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.0.2.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.1.1.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 0</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>In <code>for</code>, it is possible to go through both the list elements (for example, ospf list) and the dictionary (vlans dictionary). And similarly, through any sequence.</p><p>The result will be:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/for.txt data_files/for.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">hostname R3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Loopback0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> ip address 10.0.0.3 255.255.255.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan 10</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name Marketing</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan 20</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name Voice</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan 30</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name Management</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> router-id 10.0.0.3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth 10000</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.1.0 0.0.0.255 area 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.2.0 0.0.0.255 area 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.1.1.0 0.0.0.255 area 0</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ifelifelse"></a>if/elif/else<a class="hash-link" href="#ifelifelse" title="Ba≈ülƒ±ƒüa doƒürudan baƒülantƒ±">#</a></h1><p><code>if</code> allows you to add a condition to template. For example, you can use <code>if</code> to add parts of template depending on the presence of variables in data dictionary.</p><p><code>if</code> statement must also be within inside <code>{% %}</code>. End of condition must be explicitly stated:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% if ospf %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> router-id 10.0.0.{{ id }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth 10000</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endif %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Template example templates/if.txt:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">hostname {{ name }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Loopback0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> ip address 10.0.0.{{ id }} 255.255.255.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for vlan, name in vlans.items() %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan {{ vlan }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name {{ name }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endfor %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% if ospf %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> router-id 10.0.0.{{ id }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth 10000</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% for networks in ospf %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network {{ networks.network }} area {{ networks.area }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endfor %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endif %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p><code>if ospf</code> expression works the same way as in Python: if variable exists and is not empty, the result is True. If there is no variable or it is empty, the result is False. That is, in this template the OSPF configuration is generated only if variable <code>ospf</code> exists and is not empty. Configuration will be generated with two data variants.</p><p>First with data_files/if.yml that does not contain <code>ospf</code> variable:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">id: 3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">name: R3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlans:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  10: Marketing</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  20: Voice</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  30: Management</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>The result will be:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/if.txt data_files/if.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">hostname R3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Loopback0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> ip address 10.0.0.3 255.255.255.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan 10</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name Marketing</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan 20</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name Voice</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan 30</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name Management</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Now a similar template but with data_files/if_ospf.yml file:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">id: 3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">name: R3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlans:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  10: Marketing</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  20: Voice</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  30: Management</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">ospf:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.0.1.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.0.2.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.1.1.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 0</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Now the result will be:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">hostname R3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Loopback0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> ip address 10.0.0.3 255.255.255.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan 10</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name Marketing</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan 20</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name Voice</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan 30</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name Management</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> router-id 10.0.0.3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth 10000</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.1.0 0.0.0.255 area 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.2.0 0.0.0.255 area 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.1.1.0 0.0.0.255 area 0</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>As in Python, Jinja is allowed to make branches in condition.</p><p>Template example templates/if_vlans.txt:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for intf, params in trunks.items() %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface {{ intf }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% if params.action == &#x27;add&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan add {{ params.vlans }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% elif params.action == &#x27;delete&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan remove {{ params.vlans }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% else %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan {{ params.vlans }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endif %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Data file data_files/if_vlans.yml:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">trunks:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  Fa0/1:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    action: add</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    vlans: 10,20</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  Fa0/2:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    action: only</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    vlans: 10,30</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  Fa0/3:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    action: delete</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    vlans: 10</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>In this example, different commands are generated depending on value of <code>action</code> parameter.</p><p>In template you could also use this option to refer to nested dictionaries:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for intf in trunks %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface {{ intf }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% if trunks[intf][&#x27;action&#x27;] == &#x27;add&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan add {{ trunks[intf][&#x27;vlans&#x27;] }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% elif trunks[intf][&#x27;action&#x27;] == &#x27;delete&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan remove {{ trunks[intf][&#x27;vlans&#x27;] }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% else %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan {{ trunks[intf][&#x27;vlans&#x27;] }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endif %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>This will result in the following configuration:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/if_vlans.txt data_files/if_vlans.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Fa0/1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan add 10,20</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Fa0/3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan remove 10</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Fa0/2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan 10,30</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Using <code>if</code> you can also filter which elements of sequence will be iterated in <code>for</code> loop.</p><p>Template example templates/if_for.txt with filter in <code>for</code> loop:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for vlan, name in vlans.items() if vlan &gt; 15 %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan {{ vlan }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name {{ name }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Data file (data_files/if_for.yml):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlans:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  10: Marketing</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  20: Voice</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  30: Management</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>The result will be:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/if_for.txt data_files/if_for.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan 20</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name Voice</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan 30</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name Management</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="filters"></a>Filters<a class="hash-link" href="#filters" title="Ba≈ülƒ±ƒüa doƒürudan baƒülantƒ±">#</a></h1><p>In Jinja, variables can be changed by filters. Filters are separated from variable by a vertical line (pipe <code>|</code>) and may contain additional arguments. In addition, several filters can be applied to variable. In this case, filters are simply written consecutively and each of them is separated by a vertical line.</p><p>Jinja supports a large number of built-in filters. We will look at only a few of them. Other filters can be found in <a href="http://jinja.pocoo.org/docs/dev/templates/#builtin-filters" target="_blank" rel="noopener noreferrer">documentation</a>.</p><p>You can also easily create your own filters. We will not cover this possibility but it is <a href="http://jinja.pocoo.org/docs/2.9/api/#custom-filters" target="_blank" rel="noopener noreferrer">well documented</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="default"></a>default<a class="hash-link" href="#default" title="Ba≈ülƒ±ƒüa doƒürudan baƒülantƒ±">#</a></h2><p>Filter <code>default</code> allows you to set default value for variable. If variable is defined, it will be displayed, if variable is not defined, the value specified in default filter will be displayed.</p><p>Template example templates/filter_default.txt:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth {{ ref_bw | default(10000) }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% for networks in ospf %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network {{ networks.network }} area {{ networks.area }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>If variable ref_bw is defined in dictionary, its value will be set. If there is no variable, the value of 10000 will be substituted.</p><p>Data file (data_files/filter_default.yml):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">ospf:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.0.1.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.0.2.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.1.1.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 0</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>The result of execution:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/filter_default.txt data_files/filter_default.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth 10000</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.1.0 0.0.0.255 area 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.2.0 0.0.0.255 area 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.1.1.0 0.0.0.255 area 0</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>By default, if variable is defined and its value is empty, it will be assumed that variable and its value exist.</p><p>If you want default value to be set also when variable is empty (i.e., treated as False in Python), you need to specify additional parameter <code>boolean=true</code>.</p><p>For example, if data file is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">ref_bw: &#x27;&#x27;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">ospf:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.0.1.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.0.2.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.1.1.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 0</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>The result will be:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/filter_default.txt data_files/filter_default.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.1.0 0.0.0.255 area 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.2.0 0.0.0.255 area 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.1.1.0 0.0.0.255 area 0</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>If with the same data file the template will be changed as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth {{ ref_bw | default(10000, boolean=true) }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for networks in ospf %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network {{ networks.network }} area {{ networks.area }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Note</p><p>Instead of <code>default(10000, boolean=true)</code> you can write default(10000, true)</p><p>The result will be (default value is set):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/filter_default.txt data_files/filter_default.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth 10000</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.1.0 0.0.0.255 area 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.2.0 0.0.0.255 area 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.1.1.0 0.0.0.255 area 0</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="dictsort"></a>dictsort<a class="hash-link" href="#dictsort" title="Ba≈ülƒ±ƒüa doƒürudan baƒülantƒ±">#</a></h2><p>Filter <code>dictsort</code> allows you to sort the dictionary. By default, sorting is done by keys but by changing filter parameters you can sort by values.</p><p>Filter syntax:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">dictsort(value, case_sensitive=False, by=&#x27;key&#x27;)</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>After <code>dictsort</code> sorts the dictionary, it returns a list of tuples, not a dictionary.</p><p>Template example templates/filter_dictsort.txt using <code>dictsort</code> filter:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for intf, params in trunks | dictsort %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface {{ intf }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% if params.action == &#x27;add&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan add {{ params.vlans }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% elif params.action == &#x27;delete&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan remove {{ params.vlans }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% else %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan {{ params.vlans }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endif %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Note that filter awaits a dictionary, not a list of tuples or iterator.</p><p>Data file (data_files/filter_dictsort.yml):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">trunks:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  Fa0/2:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    action: only</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    vlans: 10,30</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  Fa0/3:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    action: delete</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    vlans: 10</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  Fa0/1:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    action: add</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    vlans: 10,20</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>The result of execution will be (interfaces are ordered):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/filter_dictsort.txt data_files/filter_dictsort.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Fa0/1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan add 10,20</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Fa0/2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan 10,30</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Fa0/3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan remove 10</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="join"></a>join<a class="hash-link" href="#join" title="Ba≈ülƒ±ƒüa doƒürudan baƒülantƒ±">#</a></h2><p>Filter <code>join</code> works just like <code>join</code> method in Python.</p><p>With <code>join</code> filter you can combine sequence of elements into a string with an optional separator between elements.</p><p>Template example templates/filter_join.txt using <code>join</code> filter:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for intf, params in trunks | dictsort %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface {{ intf }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% if params.action == &#x27;add&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan add {{ params.vlans | join(&#x27;,&#x27;) }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% elif params.action == &#x27;delete&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan remove {{ params.vlans | join(&#x27;,&#x27;) }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% else %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan {{ params.vlans | join(&#x27;,&#x27;) }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endif %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Data file (data_files/filter_join.yml):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">trunks:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  Fa0/1:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    action: add</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    vlans:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      - 10</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      - 20</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  Fa0/2:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    action: only</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    vlans:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      - 10</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      - 30</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  Fa0/3:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    action: delete</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    vlans:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      - 10</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>The result of execution:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/filter_join.txt data_files/filter_join.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Fa0/1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan add 10,20</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Fa0/2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan 10,30</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Fa0/3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan remove 10</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tests"></a>Tests<a class="hash-link" href="#tests" title="Ba≈ülƒ±ƒüa doƒürudan baƒülantƒ±">#</a></h1><p>Besides filters, Jinja also supports tests. Tests allow variables to be tested for a certain condition.</p><p>Jinja supports a large number of built-in tests. We will look at only a few of them. The rest of tests you can find in <a href="http://jinja.pocoo.org/docs/dev/templates/#builtin-tests" target="_blank" rel="noopener noreferrer">documentation</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="defined"></a>defined<a class="hash-link" href="#defined" title="Ba≈ülƒ±ƒüa doƒürudan baƒülantƒ±">#</a></h2><p>Test <code>defined</code> allows you to check if variable is present in the data dictionary.</p><p>Template example templates/test_defined.txt:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% if ref_bw is defined %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth {{ ref_bw }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% else %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth 10000</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endif %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for networks in ospf %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network {{ networks.network }} area {{ networks.area }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>This example is more cumbersome than <code>default</code> filter option, but this test may be useful if depending on whether a variable is defined or not, different commands need to be executed.</p><p>Data file (data_files/test_defined.yml):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">ospf:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.0.1.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.0.2.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.1.1.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 0</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>The result of execution:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/test_defined.txt data_files/test_defined.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth 10000</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.1.0 0.0.0.255 area 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.2.0 0.0.0.255 area 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.1.1.0 0.0.0.255 area 0</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="iterable"></a>iterable<a class="hash-link" href="#iterable" title="Ba≈ülƒ±ƒüa doƒürudan baƒülantƒ±">#</a></h2><p>Test <code>iterable</code> checks whether the object is an iterator. Due to these checks, it is possible to make branches in template which will take into account the type of variable.</p><p>Template templates/test_iterable.txt (indents made to make an idea of branches more clear):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for intf, params in trunks | dictsort %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface {{ intf }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% if params.vlans is iterable %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">   {% if params.action == &#x27;add&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan add {{ params.vlans | join(&#x27;,&#x27;) }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">   {% elif params.action == &#x27;delete&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan remove {{ params.vlans | join(&#x27;,&#x27;) }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">   {% else %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan {{ params.vlans | join(&#x27;,&#x27;) }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">   {% endif %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% else %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">   {% if params.action == &#x27;add&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan add {{ params.vlans }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">   {% elif params.action == &#x27;delete&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan remove {{ params.vlans }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">   {% else %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan {{ params.vlans }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">   {% endif %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endif %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Data file (data_files/test_iterable.yml):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">trunks:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  Fa0/1:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    action: add</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    vlans:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      - 10</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      - 20</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  Fa0/2:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    action: only</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    vlans:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      - 10</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      - 30</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  Fa0/3:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    action: delete</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    vlans: 10</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Note the last line: <code>vlans: 10</code>. In this case, 10 is no longer in the list and <code>join</code> filter does not work. But, due to <code>is iterable</code> test (in this case the result will be false), in this case template goes into <code>else</code> branch.</p><p>The result of execution:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/test_iterable.txt data_files/test_iterable.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Fa0/1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan add 10,20</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Fa0/2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan 10,30</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Fa0/3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan remove 10</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Such indents appeared because the template uses indents but does not have <code>lstrip_blocks=True</code> installed (it removes spaces and tabs at the beginning of the line).</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="set"></a>set<a class="hash-link" href="#set" title="Ba≈ülƒ±ƒüa doƒürudan baƒülantƒ±">#</a></h1><p>You can assign values to variables inside template. These can be new variables or there may be modified values of variables that have been passed to template. In this way you can remember a value that for example was obtained by using several filters. Then use variable name instead of repeating all filters.</p><p>Template example templates/set.txt in which <code>set</code> expression is used to specify shorter parameter names:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for intf, params in trunks | dictsort %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% set vlans = params.vlans %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% set action = params.action %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface {{ intf }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% if vlans is iterable %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  {% if action == &#x27;add&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan add {{ vlans | join(&#x27;,&#x27;) }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  {% elif action == &#x27;delete&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan remove {{ vlans | join(&#x27;,&#x27;) }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  {% else %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan {{ vlans | join(&#x27;,&#x27;) }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  {% endif %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% else %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  {% if action == &#x27;add&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan add {{ vlans }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  {% elif action == &#x27;delete&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan remove {{ vlans }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  {% else %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan {{ vlans }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  {% endif %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> {% endif %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Note the second and third lines:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% set vlans = params.vlans %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% set action = params.action %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>In this way new variables are created and these new values are used. It makes template look clearer.</p><p>Data file (data_files/set.yml):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">trunks:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  Fa0/1:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    action: add</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    vlans:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      - 10</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      - 20</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  Fa0/2:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    action: only</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    vlans:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      - 10</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      - 30</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  Fa0/3:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    action: delete</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    vlans: 10</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>The result of execution:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/set.txt data_files/set.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Fa0/1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan add 10,20</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Fa0/2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan 10,30</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">interface Fa0/3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> switchport trunk allowed vlan remove 10</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="include"></a>include<a class="hash-link" href="#include" title="Ba≈ülƒ±ƒüa doƒürudan baƒülantƒ±">#</a></h1><p><code>Include</code> expression allows you to add one template to another.</p><p>Variables that are transmitted as data must contain all data for both the master template and the one that is added through <code>include</code>.</p><p>Template templates/vlans.txt:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for vlan, name in vlans.items() %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan {{ vlan }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name {{ name }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Template templates/ospf.txt:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth 10000</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for networks in ospf %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network {{ networks.network }} area {{ networks.area }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Template templates/bgp.txt:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for ibgp in bgp.ibgp_neighbors %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} remote-as {{ bgp.local_as }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ibgp }} update-source {{ bgp.loopback }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endfor %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% for ebgp in bgp.ebgp_neighbors %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor {{ ebgp }} remote-as {{ bgp.ebgp_neighbors[ebgp] }}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% endfor %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Template templates/switch.txt uses created templates ospf and vlans:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% include &#x27;vlans.txt&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% include &#x27;ospf.txt&#x27; %}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Data file for configuration generation (data_files/switch.yml):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlans:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  10: Marketing</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  20: Voice</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  30: Management</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">ospf:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.0.1.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.0.2.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.1.1.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 0</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>The result of script execution:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/switch.txt data_files/switch.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan 10</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name Marketing</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan 20</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name Voice</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">vlan 30</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> name Management</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth 10000</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.1.0 0.0.0.255 area 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.2.0 0.0.0.255 area 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.1.1.0 0.0.0.255 area 0</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>The resulting configuration is as if lines from templates ospf.txt and vlans.txt were in switch.txt template.</p><p>Template templates/router.txt:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% include &#x27;ospf.txt&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">{% include &#x27;bgp.txt&#x27; %}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">logging {{ log_server }}</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>In this case, in addition to <code>include</code>, another line in template was added to show that <code>include</code> expressions can be mixed with normal template.</p><p>Data file (data_files/router.yml):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">ospf:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.0.1.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.0.2.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  - network: 10.1.1.0 0.0.0.255</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    area: 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">bgp:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  local_as: 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  loopback: lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ibgp_neighbors:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    - 10.0.0.2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    - 10.0.0.3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ebgp_neighbors:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    90.1.1.1: 500</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    80.1.1.1: 600</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">log_server: 10.1.1.1</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>The result of script execution will be:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python cfg_gen.py templates/router.txt data_files/router.yml</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router ospf 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> auto-cost reference-bandwidth 10000</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.1.0 0.0.0.255 area 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.0.2.0 0.0.0.255 area 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> network 10.1.1.0 0.0.0.255 area 0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">router bgp 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.2 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 remote-as 100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 10.0.0.3 update-source lo100</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 90.1.1.1 remote-as 500</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"> neighbor 80.1.1.1 remote-as 600</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">logging 10.1.1.1</span></div></div></div><button type="button" aria-label="Kodu panoya kopyala" class="copyButton_Ue-o">Kopyala</button></div></div><p>Thanks to <code>include</code>, template templates/ospf.txt is used both in template templates/switch.txt and in template templates/router.txt, instead of repeating the same thing twice.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Dok√ºmanlar sayfasƒ± navigasyonu"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/tr/docs/python/jinja2/example_of_using_jinja"><div class="pagination-nav__sublabel">√ñnceki</div><div class="pagination-nav__label">¬´ Example Of Using Jinja</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/tr/docs/python/jinja2/template_inheritance"><div class="pagination-nav__sublabel">Sonraki</div><div class="pagination-nav__label">Template Inheritance ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#trim_blocks-lstrip_blocks" class="table-of-contents__link">trim_blocks, lstrip_blocks</a></li><li><a href="#disabling-lstrip_blocks-for-block" class="table-of-contents__link">Disabling lstrip_blocks for block</a></li><li><a href="#removing-whitespace-from-block" class="table-of-contents__link">Removing whitespace from block</a></li><li><a href="#default" class="table-of-contents__link">default</a></li><li><a href="#dictsort" class="table-of-contents__link">dictsort</a></li><li><a href="#join" class="table-of-contents__link">join</a></li><li><a href="#defined" class="table-of-contents__link">defined</a></li><li><a href="#iterable" class="table-of-contents__link">iterable</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright"><p>all of them<strong> copyleft</strong></p><p></p></div></div></div></footer></div>
<script src="/tr/assets/js/styles.f686d0ec.js"></script>
<script src="/tr/assets/js/runtime~main.bb62884f.js"></script>
<script src="/tr/assets/js/main.5835f4df.js"></script>
<script src="/tr/assets/js/1.c045dcd2.js"></script>
<script src="/tr/assets/js/2.d178988b.js"></script>
<script src="/tr/assets/js/207.76ba2f0e.js"></script>
<script src="/tr/assets/js/209.7084d108.js"></script>
<script src="/tr/assets/js/935f2afb.756c754f.js"></script>
<script src="/tr/assets/js/17896441.57d51a09.js"></script>
<script src="/tr/assets/js/e6199db5.2f5ff938.js"></script>
</body>
</html>