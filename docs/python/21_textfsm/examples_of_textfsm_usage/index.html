<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.71">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ONEMLI Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ONEMLI Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-88680692-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Examples Of Textfsm Usage | ONEMLI</title><meta data-react-helmet="true" property="og:url" content="https://keremcanonemli.github.io/docs/python/21_textfsm/examples_of_textfsm_usage"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Examples Of Textfsm Usage | ONEMLI"><meta data-react-helmet="true" name="description" content="This section discusses examples of templates and TextFSM usage."><meta data-react-helmet="true" property="og:description" content="This section discusses examples of templates and TextFSM usage."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://keremcanonemli.github.io/docs/python/21_textfsm/examples_of_textfsm_usage"><link data-react-helmet="true" rel="alternate" href="https://keremcanonemli.github.io/docs/python/21_textfsm/examples_of_textfsm_usage" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://keremcanonemli.github.io/tr/docs/python/21_textfsm/examples_of_textfsm_usage" hreflang="tr"><link data-react-helmet="true" rel="alternate" href="https://keremcanonemli.github.io/docs/python/21_textfsm/examples_of_textfsm_usage" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.ed834976.css">
<link rel="preload" href="/assets/js/styles.6593fcb9.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.f138d98b.js" as="script">
<link rel="preload" href="/assets/js/main.44c0ad3f.js" as="script">
<link rel="preload" href="/assets/js/1.cdf48ae9.js" as="script">
<link rel="preload" href="/assets/js/2.318cebad.js" as="script">
<link rel="preload" href="/assets/js/208.5542a472.js" as="script">
<link rel="preload" href="/assets/js/210.bee96c83.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.b0768664.js" as="script">
<link rel="preload" href="/assets/js/17896441.4900a092.js" as="script">
<link rel="preload" href="/assets/js/45c39d20.57c58cd0.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="ONEMLI Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="ONEMLI Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">KRMCNONEMLI</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Journal</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/python/21_textfsm/examples_of_textfsm_usage" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li><li><a href="/tr/docs/python/21_textfsm/examples_of_textfsm_usage" target="_self" rel="noopener noreferrer" class="dropdown__link">T√ºrk√ße</a></li></ul></div><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="ONEMLI Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="ONEMLI Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">KRMCNONEMLI</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Journal</a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></a><ul class="menu__list"><li class="menu__list-item"><a href="/docs/python/21_textfsm/examples_of_textfsm_usage" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active">English</a></li><li class="menu__list-item"><a href="/tr/docs/python/21_textfsm/examples_of_textfsm_usage" target="_self" rel="noopener noreferrer" class="menu__link">T√ºrk√ße</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Python for Network Engineers</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">1. Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Working Enviroment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/01_intro/os_and_editor">Os And Editor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/01_intro/package_management_system_pip">Package Management System Pip</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/01_intro/virtual_environment">Virtual Environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/01_intro/python_interpreter">Python Interpreter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/01_intro/further_reading">Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/01_intro/exercises">Exercises</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">2. Git Github</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/02_git_github/using_git_and_github">Using Git And Github</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/02_git_github/displaying_repository_status_in_invitation">Displaying Repository Status In Invitation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/02_git_github/working_with_git">Working With Git</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/02_git_github/additional_features">Additional Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/02_git_github/github_authentication">Github Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/02_git_github/working_with_own_repository">Working With Own Repository</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/02_git_github/working_with_repository_of_tasks_and_examples">Working With Repository Of Tasks And Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/02_git_github/further_reading">Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/02_git_github/tasks">Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">3. Starting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/03_start/python_syntax">Python Syntax</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/03_start/python_interpreter._ipython">Python Interpreter. Ipython</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/03_start/ipython_special_commands">Ipython Special Commands</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/03_start/variables">Variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/03_start/tasks">Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">4. Data Structures</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/04_data_structures/python_data_types">Python Data Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/04_data_structures/numbers">Numbers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/04_data_structures/strings">Strings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/04_data_structures/lists">Lists</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/04_data_structures/dictionary">Dictionary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/04_data_structures/tuple">Tuple</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/04_data_structures/set">Set</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/04_data_structures/boolean_values">Boolean Values</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/04_data_structures/types_conversion">Types Conversion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/04_data_structures/types_checking">Types Checking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/04_data_structures/method_chaining">Method Chaining</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/04_data_structures/sorting_basics">Sorting Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/04_data_structures/further_reading">Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/04_data_structures/tasks">Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">5. Basic Scripts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/05_basic_scripts/basic_scripts">Basic Scripts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/05_basic_scripts/executable_file">Executable File</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/05_basic_scripts/passing_arguments_to_the_script">Passing Arguments To The Script</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/05_basic_scripts/user_input">User Input</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/05_basic_scripts/tasks">Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">6. Control Structures</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/06_control_structures/control_structures">Control Structures</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/06_control_structures/if_elif_else">If/Elif/Else</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/06_control_structures/for">For</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/06_control_structures/while">While</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/06_control_structures/break_continue_pass">Break/Continue/Pass</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/06_control_structures/for_else_while_else">For Else While Else</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/06_control_structures/working_with_try_except_else_finally">Working With Try Except Else Finally</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/06_control_structures/further_reading">Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/06_control_structures/tasks">Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">7. Files</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/07_files/working_with_files">Working With Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/07_files/file_opening">File Opening</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/07_files/file_reading">File Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/07_files/file_writing">File Writing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/07_files/file_closing">File Closing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/07_files/with_statement">With Statement</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/07_files/examples">Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/07_files/further_reading">Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/07_files/tasks">Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">8. Python Basic Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/08_python_basic_examples/python_basic_examples">Python Basic Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/08_python_basic_examples/formatting_lines_with_f_strings">Formatting Lines With F-Strings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/08_python_basic_examples/variable_unpacking">Variable Unpacking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/08_python_basic_examples/list_dict_set_comprehensions">List Dict Set Comprehensions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/08_python_basic_examples/further_reading">Further Reading</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">9. Functions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/09_functions/functions">Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/09_functions/creation_of_functions">Creation Of Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/09_functions/namespace_scope_of_variables">Namespace Scope Of Variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/09_functions/function_parameters_and_arguments">Function Parameters And Arguments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/09_functions/example">Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/09_functions/tasks">Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">10. Useful Functions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/10_useful_functions/print">Print</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/10_useful_functions/range">Range</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/10_useful_functions/sorted">Sorted</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/10_useful_functions/enumerate">Enumerate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/10_useful_functions/zip">Zip</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/10_useful_functions/all">All</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/10_useful_functions/any">Any</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/10_useful_functions/anonymous_function_(lambda_expression)">Anonymous Function (Lambda Expression)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/10_useful_functions/map">Map</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/10_useful_functions/filter">Filter</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">11. Modules</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/11_modules/modules">Modules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/11_modules/module_import">Module Import</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/11_modules/create_your_own_modules">Create Your Own Modules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/11_modules/if_name_main">If Name Main</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/11_modules/further_reading">Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/11_modules/tasks">Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">12. Useful Modules</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/12_useful_modules/subprocess">Subprocess</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/12_useful_modules/os">Os</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/12_useful_modules/ipaddress">IPaddress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/12_useful_modules/tabulate">Tabulate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/12_useful_modules/pprint">Pprint</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/12_useful_modules/tasks">Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">13. Iterator Generator</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/13_iterator_generator/iterable">Iterable</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/13_iterator_generator/iterators">Iterators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/13_iterator_generator/generator">Generator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/13_iterator_generator/further_reading">Further Reading</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">14. Regex</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/14_regex/regular_expressions">Regular Expressions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/14_regex/regular_expression_syntax">Regular Expression Syntax</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/14_regex/character_sets">Character Sets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/14_regex/repeating_characters">Repeating Characters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/14_regex/special_symbols">Special Symbols</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/14_regex/greedy_qualifiers">Greedy Qualifiers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/14_regex/grouping">Grouping</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/14_regex/parsing_the_output">Parsing The Output</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/14_regex/non-capturing_group">Non-Capturing Group</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/14_regex/repeating_the_captured_result">Repeating The Captured Result</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">15. Module Re</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/15_module_re/module_re">Module Re</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/15_module_re/match_object">Match Object</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/15_module_re/search_function">Search Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/15_module_re/match_function">Match Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/15_module_re/finditer_function">Finditer Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/15_module_re/findall_function">Findall Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/15_module_re/compile_function">Compile Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/15_module_re/flags">Flags</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/15_module_re/function_re.split">Function Re.Split</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/15_module_re/function_re.sub">Function Re.Sub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/15_module_re/further_reading">Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/15_module_re/tasks">Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">16. Unicode</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/16_unicode/unicode">Unicode</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/16_unicode/unicode_standard">Unicode Standard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/16_unicode/unicode_in_python_3">Unicode In Python 3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/16_unicode/conversion_between_bytes_and_strings">Conversion Between Bytes And Strings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/16_unicode/examples_of_converting_between_bytes_and_strings">Examples Of Converting Between Bytes And Strings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/16_unicode/converting_errors">Converting Errors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/16_unicode/further_reading">Further Reading</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">17. CSV JSON YAML</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/17_csv_json_yaml/working_with_csv_json_yaml_files">Working With Csv Json Yaml Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/17_csv_json_yaml/work_with_csv_files">Work With Csv Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/17_csv_json_yaml/work_with_json_files">Work With Json Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/17_csv_json_yaml/work_with_yaml_files">Work With Yaml Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/17_csv_json_yaml/further_reading">Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/17_csv_json_yaml/tasks">Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">18. SSH Telnet</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/18_ssh_telnet/connection_to_network_devices">Connection To Network Devices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/18_ssh_telnet/password_input">Password Input</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/18_ssh_telnet/module_pexpect">Module Pexpect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/18_ssh_telnet/example_of_pexpect_use">Example Of Pexpect Use</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/18_ssh_telnet/module_telnetlib">Module Telnetlib</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/18_ssh_telnet/module_paramiko">Module Paramiko</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/18_ssh_telnet/module_netmiko">Module Netmiko</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/18_ssh_telnet/further_reading">Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/18_ssh_telnet/tasks">Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">19. Concurrent Connections</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/19_concurrent_connections/concurent_connections_to_multiple_devices">Concurent Connections To Multiple Devices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/19_concurrent_connections/measure_script_execution_time">Measure Script Execution Time</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/19_concurrent_connections/processes_and_threads_in_python">Processes And Threads In Python (Cpython)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/19_concurrent_connections/number_of_threads">Number Of Threads</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/19_concurrent_connections/thread_safety">Thread Safety</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/19_concurrent_connections/module_logging">Module Logging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/19_concurrent_connections/module_concurrent_futures">Module Concurrent.Futures</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/19_concurrent_connections/further_reading">Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/19_concurrent_connections/tasks">Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">20. Jinja2</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/20_jinja2/jinja2_configuration_templates">Jinja2 Configuration Templates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/20_jinja2/getting_started_with_jinja2">Getting Started With Jinja2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/20_jinja2/example_of_using_jinja">Example Of Using Jinja</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/20_jinja2/jinja2_template_syntax">Jinja2 Template Syntax</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/20_jinja2/template_inheritance">Template Inheritance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/20_jinja2/further_reading">Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/20_jinja2/tasks">Tasks</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">21. TextFSM</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/python/21_textfsm/parsing_command_output_with_textfsm">Parsing Command Output With Textfsm</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/python/21_textfsm/getting_started_with_textfsm">Getting Started With Textfsm</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/python/21_textfsm/textfsm_template_syntax">Textfsm Template Syntax</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/python/21_textfsm/state_rules">State Rules</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/python/21_textfsm/examples_of_textfsm_usage">Examples Of Textfsm Usage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/python/21_textfsm/textfsm_cli_table">Textfsm Cli Table</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/python/21_textfsm/further_reading">Further Reading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/python/21_textfsm/tasks">Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">22. OOP Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/22_oop_basics/basics_of_object_oriented_programming">Basics Of Object-Oriented Programming</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/22_oop_basics/oop_basics">Oop Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/22_oop_basics/class_creation">Class Creation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/22_oop_basics/method_creation">Method Creation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/22_oop_basics/parameter_self">Parameter Self</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/22_oop_basics/method_init">Method `__Init__`</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/22_oop_basics/class_example">Class Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/22_oop_basics/class_namespace">Class Namespace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/22_oop_basics/class_variables">Class Variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/22_oop_basics/tasks">Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">23. OOP Special Methods</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/23_oop_special_methods/special_methods">Special Methods</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/23_oop_special_methods/underscore_in_names">Underscore In Names</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/23_oop_special_methods/methods_str_and_repr">Methods Str And Repr</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/23_oop_special_methods/arithmetic_operator_support">Arithmetic Operator Support</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/23_oop_special_methods/protocols">Protocols</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/23_oop_special_methods/tasks">Tasks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">24. OOP Inheritance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/24_oop_inheritance/inheritance_basics">Inheritance Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/24_oop_inheritance/tasks">Tasks</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Netmiko</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">üì¶ Methods</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_enable">‚öôÔ∏è enable()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_exit_enable_mode_method">‚öôÔ∏è exit_enable_mode()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_check_enable_mode_method">‚öôÔ∏è check_enable_mode()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_config_mode_method">‚öôÔ∏è config_mode()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_check_config_mode_method">‚öôÔ∏è check_config_mode()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_exit_config_mode_method">‚öôÔ∏è exit_config_mode()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_send_command_method">‚öôÔ∏è send_command()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_send_config_set_method">‚öôÔ∏è send_config_set()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_find_prompt_method">‚öôÔ∏è find_prompt()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_strip_command_method">‚öôÔ∏è strip_command()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_strip_prompt_method">‚öôÔ∏è strip_prompt()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_strip_backspace_method">‚öôÔ∏è strip_backspace()</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">üìë  Scripts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/scripts/netmiko_connecting_devices">üíª Connecting Devices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/scripts/netmiko_using_textfsm_templates">üíª TextFSM Templates</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Examples Of Textfsm Usage</h1></header><div class="markdown"><p>This section discusses examples of templates and TextFSM usage.</p><p>Section uses parse_output.py script to process command output by template. It is not tied to a specific template and output: template and command output will be passed as arguments:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">import sys</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">import textfsm</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">from tabulate import tabulate</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">template = sys.argv[1]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">output_file = sys.argv[2]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">with open(template) as f, open(output_file) as output:</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    re_table = textfsm.TextFSM(f)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    header = re_table.header</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    result = re_table.ParseText(output.read())</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    print(result)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    print(tabulate(result, headers=header))</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Example of script run:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python parse_output.py template command_output</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Note</p><p>Module <code>tabulate</code> is used to output data in tabular form (it must be installed if you want to use this script). A similar output could be received with string formatting but with tabulate it is easier to do.</p><p>Data processing by template is always done in the same way. Therefore, script will be the same only template and data will be different.</p><p>Starting with a simple example we‚Äôll figure out how to use TextFSM.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="show-clock"></a>show clock<a class="hash-link" href="#show-clock" title="Direct link to heading">#</a></h2><p>The first example is a review of ‚Äúsh clock‚Äù command output (output/sh_clock.txt file):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">15:10:44.867 UTC Sun Nov 13 2016</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>First of all, you have to define variables in template:</p><ul><li>at the beginning of each line there must be a keyword Value</li><li>each variable defines column in table</li><li>next word - variable name</li><li>after name, in parentheses - a regex that describes data</li></ul><p>Definition of variables is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value Time (..:..:..)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value Timezone (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value WeekDay (\w+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value Month (\w+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value MonthDay (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value Year (\d+)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Tips on special symbols:</p><ul><li><code>.</code> - any character</li><li><code>+</code> - one or more repetitions of previous character</li><li><code>\S</code> - all characters except whitespace</li><li><code>\w</code> - any letter or number</li><li><code>\d</code> - any number</li></ul><p>Once variables are defined, an empty line and <code>Start</code> state must follow, and then the rule follows starting with space and <code>^</code> symbol (templates/sh_clock.template file):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value Time (..:..:..)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value Timezone (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value WeekDay (\w+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value Month (\w+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value MonthDay (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value Year (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Start</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^${Time}.* ${Timezone} ${WeekDay} ${Month} ${MonthDay} ${Year} -&gt; Record</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Because in this case only one line in the output, it is not necessary to write <code>Record</code> action in template. But it is better to use it in situations where you have to write values and get used to this syntax and not make mistakes when you need to process multiple lines.</p><p>When TextFSM handles output strings it substitutes variable by its values. In the end, rule will look like:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">^(..:..:..).* (\S+) (\w+) (\w+) (\d+) (\d+)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>When this regex applies to ‚Äúshow clock‚Äù output, each regex group will have a corresponding value:</p><ul><li>1 group: 15:10:44</li><li>2 group: UTC</li><li>3 group: Sun</li><li>4 group: Nov</li><li>5 group: 13</li><li>6 group: 2016</li></ul><p>In addition to explicit <code>Record</code> action which specifies that record should be placed in final table, the <code>Next</code> rule is also used by default. It specifies that you want to go to the next line of text. Since there is only one line in ‚Äúsh clock‚Äù command output, the processing is completed.</p><p>The result of script is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python parse_output.py templates/sh_clock.template output/sh_clock.txt</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Time      Timezone    WeekDay    Month      MonthDay    Year</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">--------  ----------  ---------  -------  ----------  ------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">15:10:44  UTC         Sun        Nov              13    2016</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="show-ip-interface-brief"></a>show ip interface brief<a class="hash-link" href="#show-ip-interface-brief" title="Direct link to heading">#</a></h2><p>In case when you need to process data displayed in columns, TextFSM template is the most convenient.</p><p>Template for ‚Äúshow ip interface brief‚Äù output (templates/sh_ip_int_br.template file):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value INTF (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value ADDR (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value STATUS (up|down|administratively down)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value PROTO (up|down)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Start</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^${INTF}\s+${ADDR}\s+\w+\s+\w+\s+${STATUS}\s+${PROTO} -&gt; Record</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>In this case, the rule can be written in one line. Output command (output/sh_ip_int_br.txt file):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">R1#show ip interface brief</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Interface                  IP-Address      OK? Method Status                Protocol</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">FastEthernet0/0            15.0.15.1       YES manual up                    up</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">FastEthernet0/1            10.0.12.1       YES manual up                    up</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">FastEthernet0/2            10.0.13.1       YES manual up                    up</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">FastEthernet0/3            unassigned      YES unset  up                    up</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Loopback0                  10.1.1.1        YES manual up                    up</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Loopback100                100.0.0.1       YES manual up                    up</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The result will be:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python parse_output.py templates/sh_ip_int_br.template output/sh_ip_int_br.txt</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">INT              ADDR        STATUS    PROTO</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">---------------  ----------  --------  -------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">FastEthernet0/0  15.0.15.1   up        up</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">FastEthernet0/1  10.0.12.1   up        up</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">FastEthernet0/2  10.0.13.1   up        up</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">FastEthernet0/3  unassigned  up        up</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Loopback0        10.1.1.1    up        up</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Loopback100      100.0.0.1   up        up</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="show-cdp-neighbors-detail"></a>show cdp neighbors detail<a class="hash-link" href="#show-cdp-neighbors-detail" title="Direct link to heading">#</a></h2><p>Now try to process output of command ‚Äúshow cdp neighbors detail‚Äù. Peculiarity of this command is that the data are not in the same line but in different lines.</p><p>File output/sh_cdp_n_det.txt contains output of ‚Äúshow cdp neighbors detail‚Äù:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">SW1#show cdp neighbors detail</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">-------------------------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Device ID: SW2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Entry address(es):</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  IP address: 10.1.1.2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Platform: cisco WS-C2960-8TC-L,  Capabilities: Switch IGMP</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Interface: GigabitEthernet1/0/16,  Port ID (outgoing port): GigabitEthernet0/1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Holdtime : 164 sec</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Version :</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Cisco IOS Software, C2960 Software (C2960-LANBASEK9-M), Version 12.2(55)SE9, RELEASE SOFTWARE (fc1)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Technical Support: http://www.cisco.com/techsupport</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Copyright (c) 1986-2014 by Cisco Systems, Inc.</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Compiled Mon 03-Mar-14 22:53 by prod_rel_team</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">advertisement version: 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">VTP Management Domain: &#x27;&#x27;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Native VLAN: 1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Duplex: full</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Management address(es):</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  IP address: 10.1.1.2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">-------------------------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Device ID: R1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Entry address(es):</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  IP address: 10.1.1.1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Platform: Cisco 3825,  Capabilities: Router Switch IGMP</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Interface: GigabitEthernet1/0/22,  Port ID (outgoing port): GigabitEthernet0/0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Holdtime : 156 sec</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Version :</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Cisco IOS Software, 3800 Software (C3825-ADVENTERPRISEK9-M), Version 12.4(24)T1, RELEASE SOFTWARE (fc3)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Technical Support: http://www.cisco.com/techsupport</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Copyright (c) 1986-2009 by Cisco Systems, Inc.</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Compiled Fri 19-Jun-09 18:40 by prod_rel_team</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">advertisement version: 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">VTP Management Domain: &#x27;&#x27;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Duplex: full</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Management address(es):</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">-------------------------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Device ID: R2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Entry address(es):</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  IP address: 10.2.2.2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Platform: Cisco 2911,  Capabilities: Router Switch IGMP</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Interface: GigabitEthernet1/0/21,  Port ID (outgoing port): GigabitEthernet0/0</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Holdtime : 156 sec</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Version :</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Cisco IOS Software, 2900 Software (C3825-ADVENTERPRISEK9-M), Version 15.2(2)T1, RELEASE SOFTWARE (fc3)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Technical Support: http://www.cisco.com/techsupport</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Copyright (c) 1986-2009 by Cisco Systems, Inc.</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Compiled Fri 19-Jun-09 18:40 by prod_rel_team</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">advertisement version: 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">VTP Management Domain: &#x27;&#x27;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Duplex: full</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Management address(es):</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>From command output you need to get such fields:</p><ul><li>LOCAL_HOST - name of device from prompt</li><li>DEST_HOST - neighbor name</li><li>MGMNT_IP - neighbor IP address</li><li>PLATFORM - model of neighbor device</li><li>LOCAL_PORT - local interface that connects to a neighbor</li><li>REMOTE_PORT - neighbor port</li><li>IOS_VERSION - neighbor IOS version</li></ul><p>Template looks like this (templates/sh_cdp_n_det.template file):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value LOCAL_HOST (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value DEST_HOST (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value MGMNT_IP (.*)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value PLATFORM (.*)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value LOCAL_PORT (.*)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value REMOTE_PORT (.*)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value IOS_VERSION (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Start</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^${LOCAL_HOST}[&gt;#].</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^Device ID: ${DEST_HOST}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^.*IP address: ${MGMNT_IP}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^Platform: ${PLATFORM},</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^Interface: ${LOCAL_PORT},  Port ID \(outgoing port\): ${REMOTE_PORT}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^.*Version ${IOS_VERSION},</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The result of script execution:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python parse_output.py templates/sh_cdp_n_det.template output/sh_cdp_n_det.txt</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">LOCAL_HOST    DEST_HOST    MGMNT_IP    PLATFORM    LOCAL_PORT             REMOTE_PORT         IOS_VERSION</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">------------  -----------  ----------  ----------  ---------------------  ------------------  -------------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">SW1           R2           10.2.2.2    Cisco 2911  GigabitEthernet1/0/21  GigabitEthernet0/0  15.2(2)T1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Although rules with variables are described in different lines and accordingly work with different lines, TextFSM collects them into one line of the table. That is, variables that are defined at the beginning of template determine the string of resulting table.</p><p>Note that sh_cdp_n_det.txt file has three neighbors, but table has only one neighbor, the last one.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="record"></a>Record<a class="hash-link" href="#record" title="Direct link to heading">#</a></h3><p>This is because <code>Record</code> action is not specified in template. And only the last line left in final table.</p><p>Corrected template:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value LOCAL_HOST (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value DEST_HOST (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value MGMNT_IP (.*)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value PLATFORM (.*)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value LOCAL_PORT (.*)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value REMOTE_PORT (.*)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value IOS_VERSION (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Start</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^${LOCAL_HOST}[&gt;#].</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^Device ID: ${DEST_HOST}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^.*IP address: ${MGMNT_IP}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^Platform: ${PLATFORM},</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^Interface: ${LOCAL_PORT},  Port ID \(outgoing port\): ${REMOTE_PORT}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^.*Version ${IOS_VERSION}, -&gt; Record</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now the result is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python parse_output.py templates/sh_cdp_n_det.template output/sh_cdp_n_det.txt</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">LOCAL_HOST    DEST_HOST    MGMNT_IP    PLATFORM              LOCAL_PORT             REMOTE_PORT         IOS_VERSION</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">------------  -----------  ----------  --------------------  ---------------------  ------------------  -------------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">SW1           SW2          10.1.1.2    cisco WS-C2960-8TC-L  GigabitEthernet1/0/16  GigabitEthernet0/1  12.2(55)SE9</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">              R1           10.1.1.1    Cisco 3825            GigabitEthernet1/0/22  GigabitEthernet0/0  12.4(24)T1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">              R2           10.2.2.2    Cisco 2911            GigabitEthernet1/0/21  GigabitEthernet0/0  15.2(2)T1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Output from all three devices. But LOCAL_HOST variable is not displayed in every line, only in the first one.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="filldown"></a>Filldown<a class="hash-link" href="#filldown" title="Direct link to heading">#</a></h3><p>This is because the prompt from which variable value is taken appears only once. And in order to make it appear in the next lines, use <code>Filldown</code> action for LOCAL_HOST variable:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value Filldown LOCAL_HOST (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value DEST_HOST (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value MGMNT_IP (.*)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value PLATFORM (.*)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value LOCAL_PORT (.*)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value REMOTE_PORT (.*)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value IOS_VERSION (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Start</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^${LOCAL_HOST}[&gt;#].</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^Device ID: ${DEST_HOST}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^.*IP address: ${MGMNT_IP}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^Platform: ${PLATFORM},</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^Interface: ${LOCAL_PORT},  Port ID \(outgoing port\): ${REMOTE_PORT}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^.*Version ${IOS_VERSION}, -&gt; Record</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now we get this output:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python parse_output.py templates/sh_cdp_n_det.template output/sh_cdp_n_det.txt</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">LOCAL_HOST    DEST_HOST    MGMNT_IP    PLATFORM              LOCAL_PORT             REMOTE_PORT         IOS_VERSION</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">------------  -----------  ----------  --------------------  ---------------------  ------------------  -------------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">SW1           SW2          10.1.1.2    cisco WS-C2960-8TC-L  GigabitEthernet1/0/16  GigabitEthernet0/1  12.2(55)SE9</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">SW1           R1           10.1.1.1    Cisco 3825            GigabitEthernet1/0/22  GigabitEthernet0/0  12.4(24)T1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">SW1           R2           10.2.2.2    Cisco 2911            GigabitEthernet1/0/21  GigabitEthernet0/0  15.2(2)T1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">SW1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>LOCAL_HOST now appears in all three lines. But there was another strange effect - the last line in which only LOCAL_HOST column is filled.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="required"></a>Required<a class="hash-link" href="#required" title="Direct link to heading">#</a></h3><p>The thing is, all variables we‚Äôve determined are optional. Also, one variable with <code>Filldown</code> parameter. And to get rid of the last line, you have to make at least one variable mandatory by using <code>Required</code> option:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value Filldown LOCAL_HOST (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value Required DEST_HOST (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value MGMNT_IP (.*)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value PLATFORM (.*)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value LOCAL_PORT (.*)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value REMOTE_PORT (.*)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value IOS_VERSION (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Start</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^${LOCAL_HOST}[&gt;#].</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^Device ID: ${DEST_HOST}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^.*IP address: ${MGMNT_IP}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^Platform: ${PLATFORM},</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^Interface: ${LOCAL_PORT},  Port ID \(outgoing port\): ${REMOTE_PORT}</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^.*Version ${IOS_VERSION}, -&gt; Record</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now we get the correct output:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">$ python parse_output.py templates/sh_cdp_n_det.template output/sh_cdp_n_det.txt</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">LOCAL_HOST    DEST_HOST    MGMNT_IP    PLATFORM              LOCAL_PORT             REMOTE_PORT         IOS_VERSION</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">------------  -----------  ----------  --------------------  ---------------------  ------------------  -------------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">SW1           SW2          10.1.1.2    cisco WS-C2960-8TC-L  GigabitEthernet1/0/16  GigabitEthernet0/1  12.2(55)SE9</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">SW1           R1           10.1.1.1    Cisco 3825            GigabitEthernet1/0/22  GigabitEthernet0/0  12.4(24)T1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">SW1           R2           10.2.2.2    Cisco 2911            GigabitEthernet1/0/21  GigabitEthernet0/0  15.2(2)T1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="show-ip-route-ospf"></a>show ip route ospf<a class="hash-link" href="#show-ip-route-ospf" title="Direct link to heading">#</a></h2><p>Consider the case where we need to process output of ‚Äúshow ip route ospf‚Äù command and in routing table there are several routes to the same network.</p><p>For routes to the same network, instead of multiple lines where network is repeated, one record will be created in which all available next-hop addresses are in list.</p><p>Example of ‚Äúshow ip route ospf‚Äù output (output/sh_ip_route_ospf.txt file):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">R1#sh ip route ospf</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Codes: L - local, C - connected, S - static, R - RIP, M - mobile, B - BGP</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       E1 - OSPF external type 1, E2 - OSPF external type 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       ia - IS-IS inter area, * - candidate default, U - per-user static route</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       + - replicated route, % - next hop override</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Gateway of last resort is not set</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      10.0.0.0/8 is variably subnetted, 10 subnets, 2 masks</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">O        10.1.1.0/24 [110/20] via 10.0.12.2, 1w2d, Ethernet0/1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">O        10.2.2.0/24 [110/20] via 10.0.13.3, 1w2d, Ethernet0/2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">O        10.3.3.3/32 [110/11] via 10.0.12.2, 1w2d, Ethernet0/1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">O        10.4.4.4/32 [110/11] via 10.0.13.3, 1w2d, Ethernet0/2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">                     [110/11] via 10.0.14.4, 1w2d, Ethernet0/3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">O        10.5.5.5/32 [110/21] via 10.0.13.3, 1w2d, Ethernet0/2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">                     [110/21] via 10.0.12.2, 1w2d, Ethernet0/1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">                     [110/21] via 10.0.14.4, 1w2d, Ethernet0/3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">O        10.6.6.0/24 [110/20] via 10.0.13.3, 1w2d, Ethernet0/2</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>For this example we simplify the task and assume that routes can only be OSPF and only with ‚ÄúO‚Äù designation (i.e., only intra-zone routes).</p><p>The first version of template:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value network (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value mask (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value distance (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value metric (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value nexthop (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Start</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^O +${network}/${mask}\s\[${distance}/${metric}\]\svia\s${nexthop}, -&gt; Record</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The result is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">network      mask    distance    metric  nexthop</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">---------  ------  ----------  --------  ---------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.1.1.0       24         110        20  10.0.12.2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.2.2.0       24         110        20  10.0.13.3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.3.3.3       32         110        11  10.0.12.2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.4.4.4       32         110        11  10.0.13.3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.5.5.5       32         110        21  10.0.13.3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.6.6.0       24         110        20  10.0.13.3</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>All right, but we‚Äôve lost path options for routes 10.4.4.4/32 and 10.5.5.5/32. This is logical, because there is no rule that would be appropriate for such a line.</p><p>Add a rule to template for lines with partial entries:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value network (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value mask (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value distance (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value metric (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value nexthop (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Start</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^O +${network}/${mask}\s\[${distance}/${metric}\]\svia\s${nexthop}, -&gt; Record</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^\s+\[${distance}/${metric}\]\svia\s${nexthop}, -&gt; Record</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now the output is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">network    mask      distance    metric  nexthop</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">---------  ------  ----------  --------  ---------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.1.1.0   24             110        20  10.0.12.2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.2.2.0   24             110        20  10.0.13.3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.3.3.3   32             110        11  10.0.12.2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.4.4.4   32             110        11  10.0.13.3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">                          110        11  10.0.14.4</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.5.5.5   32             110        21  10.0.13.3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">                          110        21  10.0.12.2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">                          110        21  10.0.14.4</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.6.6.0   24             110        20  10.0.13.3</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Partial entries are missing networks and masks, but in previous examples we have already covered Filldown and, if desired, it can be applied here. But for this example we will use another option - List.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="list"></a>List<a class="hash-link" href="#list" title="Direct link to heading">#</a></h3><p>Use <code>List</code> option for nexthop variable:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value network (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value mask (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value distance (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value metric (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value List nexthop (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Start</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^O +${network}/${mask}\s\[${distance}/${metric}\]\svia\s${nexthop}, -&gt; Record</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^\s+\[${distance}/${metric}\]\svia\s${nexthop}, -&gt; Record</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now the output is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">network    mask      distance    metric  nexthop</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">---------  ------  ----------  --------  -------------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.1.1.0   24             110        20  [&#x27;10.0.12.2&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.2.2.0   24             110        20  [&#x27;10.0.13.3&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.3.3.3   32             110        11  [&#x27;10.0.12.2&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.4.4.4   32             110        11  [&#x27;10.0.13.3&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">                          110        11  [&#x27;10.0.14.4&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.5.5.5   32             110        21  [&#x27;10.0.13.3&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">                          110        21  [&#x27;10.0.12.2&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">                          110        21  [&#x27;10.0.14.4&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.6.6.0   24             110        20  [&#x27;10.0.13.3&#x27;]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now nexthop column displays a list but so far with one element. When using <code>List</code> the value is a list, and each match with a regex will add an item to the list. By default, each next match overwrites the previous one. If, for example, leave Record action for full lines only:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value network (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value mask (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value distance (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value metric (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value List nexthop (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Start</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^O +${network}/${mask}\s\[${distance}/${metric}\]\svia\s${nexthop}, -&gt; Record</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^\s+\[${distance}/${metric}\]\svia\s${nexthop},</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The result will be:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">network      mask    distance    metric  nexthop</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">---------  ------  ----------  --------  ---------------------------------------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.1.1.0       24         110        20  [&#x27;10.0.12.2&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.2.2.0       24         110        20  [&#x27;10.0.13.3&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.3.3.3       32         110        11  [&#x27;10.0.12.2&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.4.4.4       32         110        11  [&#x27;10.0.13.3&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.5.5.5       32         110        21  [&#x27;10.0.14.4&#x27;, &#x27;10.0.13.3&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.6.6.0       24         110        20  [&#x27;10.0.12.2&#x27;, &#x27;10.0.14.4&#x27;, &#x27;10.0.13.3&#x27;]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now the result is not quite correct, address hops are assigned to wrong routes. This happens because writing is done on full route entry, then hops of incomplete route entries are collected in the list (other variables are overwritten) and when the next full route entry appears, the list is written to it.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">O        10.4.4.4/32 [110/11] via 10.0.13.3, 1w2d, Ethernet0/2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">                     [110/11] via 10.0.14.4, 1w2d, Ethernet0/3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">O        10.5.5.5/32 [110/21] via 10.0.13.3, 1w2d, Ethernet0/2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">                     [110/21] via 10.0.12.2, 1w2d, Ethernet0/1</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">                     [110/21] via 10.0.14.4, 1w2d, Ethernet0/3</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">O        10.6.6.0/24 [110/20] via 10.0.13.3, 1w2d, Ethernet0/2</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>In fact, incomplete route entry should really be written when the next full route entry appears, but at the same time they should be written to appropriate route. The following should be done: once full route entry is met, the previous values should be written down and then continue to process the same full route entry to get its information. In TextFSM, you can do this with <code>Continue.Record</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">^O -&gt; Continue.Record</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Here, <code>Record</code> action tells you to write down the current value of variables. Since there are no variables in this rule, what was in the previous values is written.</p><p><code>Continue</code> action says to continue working with the current line as if there was no match. So, the next line of template will work. The resulting template (templates/sh_ip_route_ospf.template):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value network (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value mask (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value distance (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value metric (\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value List nexthop (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Start</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^O -&gt; Continue.Record</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^O +${network}/${mask}\s\[${distance}/${metric}\]\svia\s${nexthop},</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^\s+\[${distance}/${metric}\]\svia\s${nexthop},</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The result is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">network      mask    distance    metric  nexthop</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">---------  ------  ----------  --------  ---------------------------------------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.1.1.0       24         110        20  [&#x27;10.0.12.2&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.2.2.0       24         110        20  [&#x27;10.0.13.3&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.3.3.3       32         110        11  [&#x27;10.0.12.2&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.4.4.4       32         110        11  [&#x27;10.0.13.3&#x27;, &#x27;10.0.14.4&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.5.5.5       32         110        21  [&#x27;10.0.13.3&#x27;, &#x27;10.0.12.2&#x27;, &#x27;10.0.14.4&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">10.6.6.0       24         110        20  [&#x27;10.0.13.3&#x27;]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="show-etherchannel-summary"></a>show etherchannel summary<a class="hash-link" href="#show-etherchannel-summary" title="Direct link to heading">#</a></h2><p>TextFSM is convenient to use to parse output that is displayed by columns or to process output that is in different lines. Templates are less convenient when it is necessary to get several identical elements from one line.</p><p>Example of ‚Äúshow etherchannel summary‚Äù output (output/sh_etherchannel_summary.txt file):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">sw1# sh etherchannel summary</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Flags:  D - down        P - bundled in port-channel</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        I - stand-alone s - suspended</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        H - Hot-standby (LACP only)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        R - Layer3      S - Layer2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        U - in use      f - failed to allocate aggregator</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        M - not in use, minimum links not met</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        u - unsuitable for bundling</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        w - waiting to be aggregated</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        d - default port</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Number of channel-groups in use: 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Number of aggregators:           2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Group  Port-channel  Protocol    Ports</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">------+-------------+-----------+-----------------------------------------------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">1      Po1(SU)         LACP      Fa0/1(P)   Fa0/2(P)   Fa0/3(P)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">3      Po3(SU)          -        Fa0/11(P)   Fa0/12(P)   Fa0/13(P)   Fa0/14(P)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>In this case, it is necessary to get:</p><ul><li>port-channel name and number. For example, Po1</li><li>list of all the ports in it. For example, <code>[&#x27;Fa0/1&#x27;, &#x27;Fa0/2&#x27;, &#x27;Fa0/3&#x27;]</code></li></ul><p>The difficulty is that ports are in the same line and TextFSM cannot specify the same variable multiple times in line. But it is possible to search multiple times for a match in a line.</p><p>The first version of template:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value CHANNEL (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value List MEMBERS (\w+\d+\/\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Start</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^\d+ +${CHANNEL}\(\S+ +[\w-]+ +[\w ]+ +${MEMBERS}\( -&gt; Record</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Template has two variables:</p><ul><li>CHANNEL - name and number of aggregated port</li><li>MEMBERS - list of ports that are included in an aggregated port. List ‚Äì type which is specified for this variable.</li></ul><p>The result is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">CHANNEL    MEMBERS</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">---------  ----------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Po1        [&#x27;Fa0/1&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Po3        [&#x27;Fa0/11&#x27;]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>So far, only the first port is in output but we need all ports to hit. In this case after match is found, you should continue processing string with ports. That is, use Continue action and describe the following expression.</p><p>The only line in template describes the first port. Add a line that describes the next port.</p><p>The next version of template:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value CHANNEL (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value List MEMBERS (\w+\d+\/\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Start</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^\d+ +${CHANNEL}\(\S+ +[\w-]+ +[\w ]+ +${MEMBERS}\( -&gt; Continue</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^\d+ +${CHANNEL}\(\S+ +[\w-]+ +[\w ]+ +\S+ +${MEMBERS}\( -&gt; Record</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The second line describes the same expression, but MEMBERS variable is moved to the next port.</p><p>The result is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">CHANNEL    MEMBERS</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">---------  --------------------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Po1        [&#x27;Fa0/1&#x27;, &#x27;Fa0/2&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Po3        [&#x27;Fa0/11&#x27;, &#x27;Fa0/12&#x27;]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Similarly, lines that describe the third and fourth ports should be written to template. But, because the output can have a different number of ports, you have to move Record rule to separate line so that it is not tied to a specific number of ports in string.</p><p>For example, if Record is located after the line that describes four ports, for a situation with fewer ports in the line the entry will not be executed.</p><p>The resulting template (templates/sh_ether_channelsummary.txt file):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value CHANNEL (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value List MEMBERS (\w+\d+\/\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Start</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^\d+.* -&gt; Continue.Record</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^\d+ +${CHANNEL}\(\S+ +[\w-]+ +[\w ]+ +\S+ +${MEMBERS}\( -&gt; Continue</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^\d+ +${CHANNEL}\(\S+ +[\w-]+ +[\w ]+ +(\S+ +){2} +${MEMBERS}\( -&gt; Continue</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^\d+ +${CHANNEL}\(\S+ +[\w-]+ +[\w ]+ +(\S+ +){3} +${MEMBERS}\( -&gt; Continue</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The result of processing:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">CHANNEL    MEMBERS</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">---------  ----------------------------------------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Po1        [&#x27;Fa0/1&#x27;, &#x27;Fa0/2&#x27;, &#x27;Fa0/3&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Po3        [&#x27;Fa0/11&#x27;, &#x27;Fa0/12&#x27;, &#x27;Fa0/13&#x27;, &#x27;Fa0/14&#x27;]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now all ports are in output.</p><p>The template assumes a maximum of four ports in line. If there are more ports, add the corresponding lines to template.</p><p>Another version of ‚Äúsh etherchannel summary‚Äù output (output/sh_etherchannel_summary2.txt file):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">sw1# sh etherchannel summary</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Flags:  D - down        P - bundled in port-channel</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        I - stand-alone s - suspended</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        H - Hot-standby (LACP only)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        R - Layer3      S - Layer2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        U - in use      f - failed to allocate aggregator</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        M - not in use, minimum links not met</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        u - unsuitable for bundling</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        w - waiting to be aggregated</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        d - default port</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Number of channel-groups in use: 2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Number of aggregators:           2</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Group  Port-channel  Protocol    Ports</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">------+-------------+-----------+-----------------------------------------------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">1      Po1(SU)         LACP      Fa0/1(P)   Fa0/2(P)   Fa0/3(P)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">3      Po3(SU)          -        Fa0/11(P)   Fa0/12(P)   Fa0/13(P)   Fa0/14(P)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">                                 Fa0/15(P)   Fa0/16(P)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>In this output a new version appears - lines containing only ports.</p><p>To process this version you should modify template (templates/sh_etherchannel_summary2.txt file):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value CHANNEL (\S+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Value List MEMBERS (\w+\d+\/\d+)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Start</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^\d+.* -&gt; Continue.Record</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^\d+ +${CHANNEL}\(\S+ +[\w-]+ +[\w ]+ +${MEMBERS}\( -&gt; Continue</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^\d+ +${CHANNEL}\(\S+ +[\w-]+ +[\w ]+ +\S+ +${MEMBERS}\( -&gt; Continue</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^\d+ +${CHANNEL}\(\S+ +[\w-]+ +[\w ]+ +(\S+ +){2} +${MEMBERS}\( -&gt; Continue</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^\d+ +${CHANNEL}\(\S+ +[\w-]+ +[\w ]+ +(\S+ +){3} +${MEMBERS}\( -&gt; Continue</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^ +${MEMBERS} -&gt; Continue</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^ +\S+ +${MEMBERS} -&gt; Continue</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^ +(\S+ +){2} +${MEMBERS} -&gt; Continue</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  ^ +(\S+ +){3} +${MEMBERS} -&gt; Continue</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The result will be:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">CHANNEL    MEMBERS</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">---------  ------------------------------------------------------------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Po1        [&#x27;Fa0/1&#x27;, &#x27;Fa0/2&#x27;, &#x27;Fa0/3&#x27;]</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Po3        [&#x27;Fa0/11&#x27;, &#x27;Fa0/12&#x27;, &#x27;Fa0/13&#x27;, &#x27;Fa0/14&#x27;, &#x27;Fa0/15&#x27;, &#x27;Fa0/16&#x27;]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This concludes our work with TextFSM templates.</p><p>Examples of templates for Cisco and other vendors can be seen in project <a href="https://github.com/networktocode/ntc-templates/tree/89c57342b47c9990f0708226fb3f268c6b8c1549/templates" target="_blank" rel="noopener noreferrer">ntc-ansible</a>.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/python/21_textfsm/state_rules"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ State Rules</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/python/21_textfsm/textfsm_cli_table"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Textfsm Cli Table ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#show-clock" class="table-of-contents__link">show clock</a></li><li><a href="#show-ip-interface-brief" class="table-of-contents__link">show ip interface brief</a></li><li><a href="#show-cdp-neighbors-detail" class="table-of-contents__link">show cdp neighbors detail</a><ul><li><a href="#record" class="table-of-contents__link">Record</a></li><li><a href="#filldown" class="table-of-contents__link">Filldown</a></li><li><a href="#required" class="table-of-contents__link">Required</a></li></ul></li><li><a href="#show-ip-route-ospf" class="table-of-contents__link">show ip route ospf</a><ul><li><a href="#list" class="table-of-contents__link">List</a></li></ul></li><li><a href="#show-etherchannel-summary" class="table-of-contents__link">show etherchannel summary</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright"><p>all of them<strong> copyleft</strong></p><p></p></div></div></div></footer></div>
<script src="/assets/js/styles.6593fcb9.js"></script>
<script src="/assets/js/runtime~main.f138d98b.js"></script>
<script src="/assets/js/main.44c0ad3f.js"></script>
<script src="/assets/js/1.cdf48ae9.js"></script>
<script src="/assets/js/2.318cebad.js"></script>
<script src="/assets/js/208.5542a472.js"></script>
<script src="/assets/js/210.bee96c83.js"></script>
<script src="/assets/js/935f2afb.b0768664.js"></script>
<script src="/assets/js/17896441.4900a092.js"></script>
<script src="/assets/js/45c39d20.57c58cd0.js"></script>
</body>
</html>