(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{177:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return p})),n.d(t,"toc",(function(){return u})),n.d(t,"default",(function(){return l}));var r=n(3),a=n(8),i=(n(0),n(280)),o={id:"repeating_the_captured_result",title:"Repeating The Captured Result",sidebar_label:"14.9 Repeating The Captured Result",slug:"repeating_the_captured_result",custom_edit_url:null},p={unversionedId:"python/regex/repeating_the_captured_result",id:"python/regex/repeating_the_captured_result",isDocsHomePage:!1,title:"Repeating The Captured Result",description:"When working with groups, you can use the result that matched with the group, further in the same expression.",source:"@site/docs/python/regex/9_repeating_the_captured_result.md",slug:"/python/regex/repeating_the_captured_result",permalink:"/docs/python/regex/repeating_the_captured_result",editUrl:null,version:"current",sidebar_label:"14.9 Repeating The Captured Result",sidebar:"someSidebar",previous:{title:"Non-Capturing Group",permalink:"/docs/python/regex/non-capturing_group"},next:{title:"Module Re",permalink:"/docs/python/module_re/module_re"}},u=[],c={toc:u};function l(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"When working with groups, you can use the result that matched with the group, further in the same expression."),Object(i.b)("p",null,"For example, in the output of \u2018sh ip bgp\u2019 the last column describes AS Path attribute (through which autonomous systems the route passed):"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-python"},"In [1]: bgp = '''\n   ...: R9# sh ip bgp | be Network\n   ...:    Network          Next Hop       Metric LocPrf Weight Path\n   ...: *  192.168.66.0/24  192.168.79.7                       0 500 500 500 i\n   ...: *>                  192.168.89.8                       0 800 700 i\n   ...: *  192.168.67.0/24  192.168.79.7         0             0 700 700 700 i\n   ...: *>                  192.168.89.8                       0 800 700 i\n   ...: *  192.168.88.0/24  192.168.79.7                       0 700 700 700 i\n   ...: *>                  192.168.89.8         0             0 800 800 i\n   ...: '''\n")),Object(i.b)("p",null,"Suppose you get those prefixes where the same AS number repeats several times in the path."),Object(i.b)("p",null,"This can be done by reference to a result that has been captured by the group. For example, such an expression displays all lines in which the same number is repeated at least twice:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-python"},"In [2]: for line in bgp.split('\\n'):\n   ...:     match = re.search(r'(\\d+) \\1', line)\n   ...:     if match:\n   ...:         print(line)\n   ...:\n*  192.168.66.0/24  192.168.79.7                       0 500 500 500 i\n*  192.168.67.0/24  192.168.79.7         0             0 700 700 700 i\n*  192.168.88.0/24  192.168.79.7                       0 700 700 700 i\n*>                  192.168.89.8         0             0 800 800 i\n")),Object(i.b)("p",null,"In this expression, ",Object(i.b)("inlineCode",{parentName:"p"},"\\1")," denotes the result that falls into the group. Number one indicates a specific group. In this case, it\u2019s Group 1, it\u2019s only one group here."),Object(i.b)("p",null,"Similarly, you can describe strings where the same number occurs three times:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-python"},"In [3]: for line in bgp.split('\\n'):\n   ...:     match = re.search(r'(\\d+) \\1 \\1', line)\n   ...:     if match:\n   ...:         print(line)\n   ...:\n*  192.168.66.0/24  192.168.79.7                       0 500 500 500 i\n*  192.168.67.0/24  192.168.79.7         0             0 700 700 700 i\n*  192.168.88.0/24  192.168.79.7                       0 700 700 700 i\n")),Object(i.b)("p",null,"You can reffer to the result which was captured by named group:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-python"},"In [129]: for line in bgp.split('\\n'):\n     ...:     match = re.search('(?P<as>\\d+) (?P=as)', line)\n     ...:     if match:\n     ...:         print(line)\n     ...:\n*  192.168.66.0/24   192.168.79.7                       0 500 500 500 i\n*  192.168.67.0/24   192.168.79.7         0             0 700 700 700 i\n*  192.168.88.0/24   192.168.79.7                       0 700 700 700 i\n*>                   192.168.89.8         0             0 800 800 i\n")))}l.isMDXComponent=!0},280:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var r=n(0),a=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=a.a.createContext({}),l=function(e){var t=a.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},s=function(e){var t=l(e.components);return a.a.createElement(c.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},b=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),s=l(n),b=r,d=s["".concat(o,".").concat(b)]||s[b]||h[b]||i;return n?a.a.createElement(d,p(p({ref:t},c),{},{components:n})):a.a.createElement(d,p({ref:t},c))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=b;var p={};for(var u in t)hasOwnProperty.call(t,u)&&(p[u]=t[u]);p.originalType=e,p.mdxType="string"==typeof e?e:r,o[1]=p;for(var c=2;c<i;c++)o[c]=n[c];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);