<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.71">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ONEMLI Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ONEMLI Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-88680692-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Inheritance | ONEMLI</title><meta data-react-helmet="true" property="og:url" content="https://keremcanonemli.github.io/docs/python/classes_objects/inheritance"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Inheritance | ONEMLI"><meta data-react-helmet="true" name="description" content="Inheritance is a commonly used tool for writing extensible programs."><meta data-react-helmet="true" property="og:description" content="Inheritance is a commonly used tool for writing extensible programs."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://keremcanonemli.github.io/docs/python/classes_objects/inheritance"><link data-react-helmet="true" rel="alternate" href="https://keremcanonemli.github.io/docs/python/classes_objects/inheritance" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://keremcanonemli.github.io/docs/python/classes_objects/inheritance" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.cafbfa3c.css">
<link rel="preload" href="/assets/js/styles.151f6cf7.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.6b0f2b72.js" as="script">
<link rel="preload" href="/assets/js/main.196fcac7.js" as="script">
<link rel="preload" href="/assets/js/1.42c2f5ab.js" as="script">
<link rel="preload" href="/assets/js/2.096c9740.js" as="script">
<link rel="preload" href="/assets/js/47.c14c18f2.js" as="script">
<link rel="preload" href="/assets/js/49.ef97560e.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.34650ca0.js" as="script">
<link rel="preload" href="/assets/js/17896441.cf215be5.js" as="script">
<link rel="preload" href="/assets/js/4af3ea92.b16e3287.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="ONEMLI Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="ONEMLI Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">KRMCNONEMLI</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Journal</a><a href="https://github.com/keremcanonemli" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="ONEMLI Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="ONEMLI Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">KRMCNONEMLI</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Journal</a></li><li class="menu__list-item"><a href="https://github.com/keremcanonemli" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Python</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">1. Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">1.1 Python</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/introduction/a_first_program">1.2 A First Program</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/introduction/numbers">1.3 Numbers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/introduction/strings">1.4 Strings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/introduction/lists">1.5 Lists</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/introduction/file_management">1.6 File Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/introduction/functions">1.7 Functions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">2. Working with Data</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/working_with_data/datatypes">2.1 Datatypes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/working_with_data/containers">2.2 Containers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/working_with_data/formatting">2.3 Formatting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/working_with_data/sequences">2.4 Sequences</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/working_with_data/collections">2.5 Collections</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/working_with_data/list_comprehension">2.6 List Comprehension</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/working_with_data/objects">2.7 Objects</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">3. Program Organization</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/program_organization/script">3.1 Script</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/program_organization/more_on_functions">3.2 More on Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/program_organization/error_checking">3.3 Error Checking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/program_organization/modules">3.4 Modules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/program_organization/main_module">3.5 Main Module</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/python/program_organization/design_discussion">3.6 Design Discussion</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">4. Classes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/python/classes_objects/class">4.1 Class</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/python/classes_objects/inheritance">4.2 Inheritance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/python/classes_objects/special_methods">4.3 Special Methods</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/python/classes_objects/defining_exceptions">4.4 Defining Exceptions</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Netmiko</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">📦 Methods</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_enable">⚙️ enable()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_exit_enable_mode_method">⚙️ exit_enable_mode()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_check_enable_mode_method">⚙️ check_enable_mode()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_config_mode_method">⚙️ config_mode()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_check_config_mode_method">⚙️ check_config_mode()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_exit_config_mode_method">⚙️ exit_config_mode()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_send_command_method">⚙️ send_command()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_send_config_set_method">⚙️ send_config_set()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_find_prompt_method">⚙️ find_prompt()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_strip_command_method">⚙️ strip_command()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_strip_prompt_method">⚙️ strip_prompt()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/methods/netmiko_strip_backspace_method">⚙️ strip_backspace()</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">📑  Scripts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/scripts/netmiko_connecting_devices">💻 Connecting Devices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/netmiko/scripts/netmiko_using_textfsm_templates">💻 TextFSM Templates</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Inheritance</h1></header><div class="markdown"><p>Inheritance is a commonly used tool for writing extensible programs.
This section explores that idea.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h3><p>Inheritance is used to specialize existing objects:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">Parent</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">Child</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">Parent</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The new class <code>Child</code> is called a derived class or subclass.  The
<code>Parent</code> class is known as base class or superclass.  <code>Parent</code> is
specified in <code>()</code> after the class name, <code>class Child(Parent):</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="extending"></a>Extending<a class="hash-link" href="#extending" title="Direct link to heading">#</a></h3><p>With inheritance, you are taking an existing class and:</p><ul><li>Adding new methods</li><li>Redefining some of the existing methods</li><li>Adding new attributes to instances</li></ul><p>In the end you are <strong>extending existing code</strong>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="example"></a>Example<a class="hash-link" href="#example" title="Direct link to heading">#</a></h3><p>Suppose that this is your starting class:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">Stock</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">__init__</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> shares</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> price</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">name </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> name</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">shares </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> shares</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">price </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> price</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">cost</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token keyword" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">shares </span><span class="token operator" style="color:rgb(255, 157, 0)">*</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">price</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">sell</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> nshares</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">shares </span><span class="token operator" style="color:rgb(255, 157, 0)">-=</span><span class="token plain"> nshares</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You can change any part of this via inheritance.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="add-a-new-method"></a>Add a new method<a class="hash-link" href="#add-a-new-method" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">MyStock</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">Stock</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">panic</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">sell</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">shares</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Usage example.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> s </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> MyStock</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;GOOG&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(255, 98, 140)">100</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(255, 98, 140)">490.1</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">sell</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token number" style="color:rgb(255, 98, 140)">25</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">shares</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token number" style="color:rgb(255, 98, 140)">75</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">panic</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">shares</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token number" style="color:rgb(255, 98, 140)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="redefining-an-existing-method"></a>Redefining an existing method<a class="hash-link" href="#redefining-an-existing-method" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">MyStock</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">Stock</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">cost</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token keyword" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token number" style="color:rgb(255, 98, 140)">1.25</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">*</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">shares </span><span class="token operator" style="color:rgb(255, 157, 0)">*</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">price</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Usage example.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> s </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> MyStock</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;GOOG&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(255, 98, 140)">100</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(255, 98, 140)">490.1</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">cost</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token number" style="color:rgb(255, 98, 140)">61262.5</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The new method takes the place of the old one. The other methods are unaffected. It&#x27;s tremendous.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="overriding"></a>Overriding<a class="hash-link" href="#overriding" title="Direct link to heading">#</a></h2><p>Sometimes a class extends an existing method, but it wants to use the
original implementation inside the redefinition.  For this, use <code>super()</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">Stock</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">cost</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token keyword" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">shares </span><span class="token operator" style="color:rgb(255, 157, 0)">*</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">price</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">MyStock</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">Stock</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">cost</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Check the call to `super`</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        actual_cost </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(250, 208, 0)">super</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">cost</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token keyword" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token number" style="color:rgb(255, 98, 140)">1.25</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">*</span><span class="token plain"> actual_cost</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Use <code>super()</code> to call the previous version.</p><p><em>Caution: In Python 2, the syntax was more verbose.</em></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">actual_cost </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(250, 208, 0)">super</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">MyStock</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">cost</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="__init__-and-inheritance"></a><code>__init__</code> and inheritance<a class="hash-link" href="#__init__-and-inheritance" title="Direct link to heading">#</a></h3><p>If <code>__init__</code> is redefined, it is essential to initialize the parent.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">Stock</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">__init__</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> shares</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> price</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">name </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> name</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">shares </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> shares</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">price </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> price</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">MyStock</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">Stock</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">__init__</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> shares</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> price</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> factor</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Check the call to `super` and `__init__`</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token builtin" style="color:rgb(250, 208, 0)">super</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">__init__</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> shares</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> price</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">factor </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> factor</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">cost</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token keyword" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">factor </span><span class="token operator" style="color:rgb(255, 157, 0)">*</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(250, 208, 0)">super</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">cost</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You should call the <code>__init__()</code> method on the <code>super</code> which is the
way to call the previous version as shown previously.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-inheritance"></a>Using Inheritance<a class="hash-link" href="#using-inheritance" title="Direct link to heading">#</a></h3><p>Inheritance is sometimes used to organize related objects.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">Shape</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">Circle</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">Shape</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">Rectangle</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">Shape</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Think of a logical hierarchy or taxonomy.  However, a more common (and
practical) usage is related to making reusable or extensible code.
For example, a framework might define a base class and instruct you
to customize it.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">CustomHandler</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">TCPHandler</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">handle_request</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Custom processing</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The base class contains some general purpose code.
Your class inherits and customized specific parts.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="is-a-relationship"></a>&quot;is a&quot; relationship<a class="hash-link" href="#is-a-relationship" title="Direct link to heading">#</a></h3><p>Inheritance establishes a type relationship.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">Shape</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">Circle</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">Shape</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Check for object instance.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> c </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> Circle</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token number" style="color:rgb(255, 98, 140)">4.0</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(250, 208, 0)">isinstance</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">c</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> Shape</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token boolean" style="color:rgb(255, 98, 140)">True</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><em>Important: Ideally, any code that worked with instances of the parent
class will also work with instances of the child class.</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="object-base-class"></a><code>object</code> base class<a class="hash-link" href="#object-base-class" title="Direct link to heading">#</a></h3><p>If a class has no parent, you sometimes see <code>object</code> used as the base.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">Shape</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token builtin" style="color:rgb(250, 208, 0)">object</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>object</code> is the parent of all objects in Python.</p><p>*Note: it&#x27;s not technically required, but you often see it specified
as a hold-over from it&#x27;s required use in Python 2. If omitted, the
class still implicitly inherits from <code>object</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="multiple-inheritance"></a>Multiple Inheritance<a class="hash-link" href="#multiple-inheritance" title="Direct link to heading">#</a></h3><p>You can inherit from multiple classes by specifying them in the definition of the class.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">Mother</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">Father</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">Child</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">Mother</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> Father</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The class <code>Child</code> inherits features from both parents.  There are some
rather tricky details. Don&#x27;t do it unless you know what you are doing.
Some further information will be given in the next section, but we&#x27;re not
going to utilize multiple inheritance further in this course.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="exercises"></a>Exercises<a class="hash-link" href="#exercises" title="Direct link to heading">#</a></h2><p>A major use of inheritance is in writing code that&#x27;s meant to be
extended or customized in various ways--especially in libraries or
frameworks. To illustrate, consider the <code>print_report()</code> function
in your <code>report.py</code> program.  It should look something like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">print_report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">reportdata</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">&#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    Print a nicely formated table from a list of (name, shares, price, change) tuples.</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    &#x27;&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    headers </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;Name&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;Shares&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;Price&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;Change&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">print</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;%10s %10s %10s %10s&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">%</span><span class="token plain"> headers</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">print</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;-&#x27;</span><span class="token operator" style="color:rgb(255, 157, 0)">*</span><span class="token number" style="color:rgb(255, 98, 140)">10</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&#x27; &#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token operator" style="color:rgb(255, 157, 0)">*</span><span class="token builtin" style="color:rgb(250, 208, 0)">len</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">headers</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">for</span><span class="token plain"> row </span><span class="token keyword" style="color:rgb(255, 157, 0)">in</span><span class="token plain"> reportdata</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token keyword" style="color:rgb(255, 157, 0)">print</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;%10s %10d %10.2f %10.2f&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">%</span><span class="token plain"> row</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>When you run your report program, you should be getting output like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">&gt;&gt;&gt; import report</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">&gt;&gt;&gt; report.portfolio_report(&#x27;Data/portfolio.csv&#x27;, &#x27;Data/prices.csv&#x27;)</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      Name     Shares      Price     Change</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">---------- ---------- ---------- ----------</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        AA        100       9.22     -22.98</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       IBM         50     106.28      15.18</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       CAT        150      35.46     -47.98</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      MSFT        200      20.89     -30.34</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        GE         95      13.48     -26.89</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      MSFT         50      20.89     -44.21</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       IBM        100     106.28      35.84</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="exercise-45-an-extensibility-problem"></a>Exercise 4.5: An Extensibility Problem<a class="hash-link" href="#exercise-45-an-extensibility-problem" title="Direct link to heading">#</a></h3><p>Suppose that you wanted to modify the <code>print_report()</code> function to
support a variety of different output formats such as plain-text,
HTML, CSV, or XML.  To do this, you could try to write one gigantic
function that did everything.  However, doing so would likely lead to
an unmaintainable mess.  Instead, this is a perfect opportunity to use
inheritance instead.</p><p>To start, focus on the steps that are involved in a creating a table.
At the top of the table is a set of table headers.  After that, rows
of table data appear.  Let&#x27;s take those steps and put them into
their own class.  Create a file called <code>tableformat.py</code> and define the
following class:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># tableformat.py</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">TableFormatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">headings</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> headers</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">&#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">        Emit the table headings.</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">        &#x27;&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">raise</span><span class="token plain"> NotImplementedError</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">row</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> rowdata</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">&#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">        Emit a single row of table data.</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">        &#x27;&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">raise</span><span class="token plain"> NotImplementedError</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This class does nothing, but it serves as a kind of design specification for
additional classes that will be defined shortly.  A class like this is
sometimes called an &quot;abstract base class.&quot;</p><p>Modify the <code>print_report()</code> function so that it accepts a
<code>TableFormatter</code> object as input and invokes methods on it to produce
the output.  For example, like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># report.py</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">print_report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">reportdata</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> formatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">&#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    Print a nicely formated table from a list of (name, shares, price, change) tuples.</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    &#x27;&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    formatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">headings</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;Name&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;Shares&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;Price&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;Change&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">for</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> shares</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> price</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> change </span><span class="token keyword" style="color:rgb(255, 157, 0)">in</span><span class="token plain"> reportdata</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        rowdata </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(250, 208, 0)">str</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">shares</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(165, 255, 144)">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token string-interpolation interpolation">price</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token string-interpolation interpolation format-spec">0.2f</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token string-interpolation string" style="color:rgb(165, 255, 144)">&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(165, 255, 144)">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token string-interpolation interpolation">change</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token string-interpolation interpolation format-spec">0.2f</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token string-interpolation string" style="color:rgb(165, 255, 144)">&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        formatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">row</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">rowdata</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Since you added an argument to print_report(), you&#x27;re going to need to modify the
<code>portfolio_report()</code> function as well.  Change it so that it creates a <code>TableFormatter</code>
like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># report.py</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">import</span><span class="token plain"> tableformat</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">portfolio_report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">portfoliofile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> pricefile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">&#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    Make a stock report given portfolio and price data files.</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    &#x27;&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Read data files</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    portfolio </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> read_portfolio</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">portfoliofile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    prices </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> read_prices</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">pricefile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Create the report data</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    report </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> make_report_data</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">portfolio</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> prices</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Print it out</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    formatter </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> tableformat</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">TableFormatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    print_report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> formatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Run this new code:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token plain"> RESTART </span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">import</span><span class="token plain"> report</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">portfolio_report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;Data/portfolio.csv&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;Data/prices.csv&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain"> crashes </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>It should immediately crash with a <code>NotImplementedError</code> exception.  That&#x27;s not
too exciting, but it&#x27;s exactly what we expected.  Continue to the next part.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="exercise-46-using-inheritance-to-produce-different-output"></a>Exercise 4.6: Using Inheritance to Produce Different Output<a class="hash-link" href="#exercise-46-using-inheritance-to-produce-different-output" title="Direct link to heading">#</a></h3><p>The <code>TableFormatter</code> class you defined in part (a) is meant to be
extended via inheritance.  In fact, that&#x27;s the whole idea.  To
illustrate, define a class <code>TextTableFormatter</code> like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># tableformat.py</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">TextTableFormatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">TableFormatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">&#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    Emit a table in plain-text format</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    &#x27;&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">headings</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> headers</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token keyword" style="color:rgb(255, 157, 0)">for</span><span class="token plain"> h </span><span class="token keyword" style="color:rgb(255, 157, 0)">in</span><span class="token plain"> headers</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">            </span><span class="token keyword" style="color:rgb(255, 157, 0)">print</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string-interpolation string" style="color:rgb(165, 255, 144)">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token string-interpolation interpolation">h</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token string-interpolation interpolation format-spec">&gt;10s</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token string-interpolation string" style="color:rgb(165, 255, 144)">&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> end</span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27; &#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token keyword" style="color:rgb(255, 157, 0)">print</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token keyword" style="color:rgb(255, 157, 0)">print</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;-&#x27;</span><span class="token operator" style="color:rgb(255, 157, 0)">*</span><span class="token number" style="color:rgb(255, 98, 140)">10</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&#x27; &#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token operator" style="color:rgb(255, 157, 0)">*</span><span class="token builtin" style="color:rgb(250, 208, 0)">len</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">headers</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">row</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> rowdata</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token keyword" style="color:rgb(255, 157, 0)">for</span><span class="token plain"> d </span><span class="token keyword" style="color:rgb(255, 157, 0)">in</span><span class="token plain"> rowdata</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">            </span><span class="token keyword" style="color:rgb(255, 157, 0)">print</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string-interpolation string" style="color:rgb(165, 255, 144)">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token string-interpolation interpolation">d</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token string-interpolation interpolation format-spec">&gt;10s</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token string-interpolation string" style="color:rgb(165, 255, 144)">&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> end</span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27; &#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token keyword" style="color:rgb(255, 157, 0)">print</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Modify the <code>portfolio_report()</code> function like this and try it:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># report.py</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">portfolio_report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">portfoliofile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> pricefile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">&#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    Make a stock report given portfolio and price data files.</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    &#x27;&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Read data files</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    portfolio </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> read_portfolio</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">portfoliofile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    prices </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> read_prices</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">pricefile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Create the report data</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    report </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> make_report_data</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">portfolio</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> prices</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Print it out</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    formatter </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> tableformat</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">TextTableFormatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    print_report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> formatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This should produce the same output as before:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token plain"> RESTART </span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">import</span><span class="token plain"> report</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">portfolio_report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;Data/portfolio.csv&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;Data/prices.csv&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      Name     Shares      Price     Change</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        AA        </span><span class="token number" style="color:rgb(255, 98, 140)">100</span><span class="token plain">       </span><span class="token number" style="color:rgb(255, 98, 140)">9.22</span><span class="token plain">     </span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token number" style="color:rgb(255, 98, 140)">22.98</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       IBM         </span><span class="token number" style="color:rgb(255, 98, 140)">50</span><span class="token plain">     </span><span class="token number" style="color:rgb(255, 98, 140)">106.28</span><span class="token plain">      </span><span class="token number" style="color:rgb(255, 98, 140)">15.18</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       CAT        </span><span class="token number" style="color:rgb(255, 98, 140)">150</span><span class="token plain">      </span><span class="token number" style="color:rgb(255, 98, 140)">35.46</span><span class="token plain">     </span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token number" style="color:rgb(255, 98, 140)">47.98</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      MSFT        </span><span class="token number" style="color:rgb(255, 98, 140)">200</span><span class="token plain">      </span><span class="token number" style="color:rgb(255, 98, 140)">20.89</span><span class="token plain">     </span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token number" style="color:rgb(255, 98, 140)">30.34</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        GE         </span><span class="token number" style="color:rgb(255, 98, 140)">95</span><span class="token plain">      </span><span class="token number" style="color:rgb(255, 98, 140)">13.48</span><span class="token plain">     </span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token number" style="color:rgb(255, 98, 140)">26.89</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      MSFT         </span><span class="token number" style="color:rgb(255, 98, 140)">50</span><span class="token plain">      </span><span class="token number" style="color:rgb(255, 98, 140)">20.89</span><span class="token plain">     </span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token number" style="color:rgb(255, 98, 140)">44.21</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       IBM        </span><span class="token number" style="color:rgb(255, 98, 140)">100</span><span class="token plain">     </span><span class="token number" style="color:rgb(255, 98, 140)">106.28</span><span class="token plain">      </span><span class="token number" style="color:rgb(255, 98, 140)">35.84</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>However, let&#x27;s change the output to something else.  Define a new
class <code>CSVTableFormatter</code> that produces output in CSV format:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># tableformat.py</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">CSVTableFormatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">TableFormatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">&#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    Output portfolio data in CSV format.</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    &#x27;&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">headings</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> headers</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token keyword" style="color:rgb(255, 157, 0)">print</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;,&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">join</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">headers</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">row</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> rowdata</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token keyword" style="color:rgb(255, 157, 0)">print</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;,&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">join</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">rowdata</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Modify your main program as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">portfolio_report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">portfoliofile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> pricefile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">&#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    Make a stock report given portfolio and price data files.</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    &#x27;&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Read data files</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    portfolio </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> read_portfolio</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">portfoliofile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    prices </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> read_prices</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">pricefile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Create the report data</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    report </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> make_report_data</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">portfolio</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> prices</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Print it out</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    formatter </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> tableformat</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">CSVTableFormatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    print_report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> formatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You should now see CSV output like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token plain"> RESTART </span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">import</span><span class="token plain"> report</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">portfolio_report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;Data/portfolio.csv&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;Data/prices.csv&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Name</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain">Shares</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain">Price</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain">Change</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">AA</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token number" style="color:rgb(255, 98, 140)">100</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token number" style="color:rgb(255, 98, 140)">9.22</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token number" style="color:rgb(255, 98, 140)">22.98</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">IBM</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token number" style="color:rgb(255, 98, 140)">50</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token number" style="color:rgb(255, 98, 140)">106.28</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token number" style="color:rgb(255, 98, 140)">15.18</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">CAT</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token number" style="color:rgb(255, 98, 140)">150</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token number" style="color:rgb(255, 98, 140)">35.46</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token number" style="color:rgb(255, 98, 140)">47.98</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">MSFT</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token number" style="color:rgb(255, 98, 140)">200</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token number" style="color:rgb(255, 98, 140)">20.89</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token number" style="color:rgb(255, 98, 140)">30.34</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">GE</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token number" style="color:rgb(255, 98, 140)">95</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token number" style="color:rgb(255, 98, 140)">13.48</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token number" style="color:rgb(255, 98, 140)">26.89</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">MSFT</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token number" style="color:rgb(255, 98, 140)">50</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token number" style="color:rgb(255, 98, 140)">20.89</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token number" style="color:rgb(255, 98, 140)">44.21</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">IBM</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token number" style="color:rgb(255, 98, 140)">100</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token number" style="color:rgb(255, 98, 140)">106.28</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token number" style="color:rgb(255, 98, 140)">35.84</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Using a similar idea, define a class <code>HTMLTableFormatter</code>
that produces a table with the following output:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token plain">&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Shares&lt;/th&gt;&lt;th&gt;Price&lt;/th&gt;&lt;th&gt;Change&lt;/th&gt;&lt;/tr&gt;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">&lt;tr&gt;&lt;td&gt;AA&lt;/td&gt;&lt;td&gt;100&lt;/td&gt;&lt;td&gt;9.22&lt;/td&gt;&lt;td&gt;-22.98&lt;/td&gt;&lt;/tr&gt;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">&lt;tr&gt;&lt;td&gt;IBM&lt;/td&gt;&lt;td&gt;50&lt;/td&gt;&lt;td&gt;106.28&lt;/td&gt;&lt;td&gt;15.18&lt;/td&gt;&lt;/tr&gt;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">&lt;tr&gt;&lt;td&gt;CAT&lt;/td&gt;&lt;td&gt;150&lt;/td&gt;&lt;td&gt;35.46&lt;/td&gt;&lt;td&gt;-47.98&lt;/td&gt;&lt;/tr&gt;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">&lt;tr&gt;&lt;td&gt;MSFT&lt;/td&gt;&lt;td&gt;200&lt;/td&gt;&lt;td&gt;20.89&lt;/td&gt;&lt;td&gt;-30.34&lt;/td&gt;&lt;/tr&gt;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">&lt;tr&gt;&lt;td&gt;GE&lt;/td&gt;&lt;td&gt;95&lt;/td&gt;&lt;td&gt;13.48&lt;/td&gt;&lt;td&gt;-26.89&lt;/td&gt;&lt;/tr&gt;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">&lt;tr&gt;&lt;td&gt;MSFT&lt;/td&gt;&lt;td&gt;50&lt;/td&gt;&lt;td&gt;20.89&lt;/td&gt;&lt;td&gt;-44.21&lt;/td&gt;&lt;/tr&gt;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">&lt;tr&gt;&lt;td&gt;IBM&lt;/td&gt;&lt;td&gt;100&lt;/td&gt;&lt;td&gt;106.28&lt;/td&gt;&lt;td&gt;35.84&lt;/td&gt;&lt;/tr&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Test your code by modifying the main program to create a
<code>HTMLTableFormatter</code> object instead of a
<code>CSVTableFormatter</code> object.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="exercise-47-polymorphism-in-action"></a>Exercise 4.7: Polymorphism in Action<a class="hash-link" href="#exercise-47-polymorphism-in-action" title="Direct link to heading">#</a></h3><p>A major feature of object-oriented programming is that you can
plug an object into a program and it will work without having to
change any of the existing code.  For example, if you wrote a program
that expected to use a <code>TableFormatter</code> object, it would work no
matter what kind of <code>TableFormatter</code> you actually gave it.  This
behavior is sometimes referred to as &quot;polymorphism.&quot;</p><p>One potential problem is figuring out how to allow a user to pick out
the formatter that they want.  Direct use of the class names such as
<code>TextTableFormatter</code> is often annoying.  Thus, you might consider some
simplified approach.  Perhaps you embed an <code>if-</code>statement into the
code like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">portfolio_report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">portfoliofile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> pricefile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> fmt</span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;txt&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">&#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    Make a stock report given portfolio and price data files.</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    &#x27;&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Read data files</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    portfolio </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> read_portfolio</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">portfoliofile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    prices </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> read_prices</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">pricefile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Create the report data</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    report </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> make_report_data</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">portfolio</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> prices</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Print it out</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">if</span><span class="token plain"> fmt </span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;txt&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        formatter </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> tableformat</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">TextTableFormatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">elif</span><span class="token plain"> fmt </span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;csv&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        formatter </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> tableformat</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">CSVTableFormatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">elif</span><span class="token plain"> fmt </span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;html&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        formatter </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> tableformat</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">HTMLTableFormatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">else</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token keyword" style="color:rgb(255, 157, 0)">raise</span><span class="token plain"> RuntimeError</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string-interpolation string" style="color:rgb(165, 255, 144)">f&#x27;Unknown format </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token string-interpolation interpolation">fmt</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token string-interpolation string" style="color:rgb(165, 255, 144)">&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    print_report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> formatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>In this code, the user specifies a simplified name such as <code>&#x27;txt&#x27;</code> or
<code>&#x27;csv&#x27;</code> to pick a format.  However, is putting a big <code>if</code>-statement in
the <code>portfolio_report()</code> function like that the best idea?  It might
be better to move that code to a general purpose function somewhere
else.</p><p>In the <code>tableformat.py</code> file, add a function <code>create_formatter(name)</code>
that allows a user to create a formatter given an output name such as
<code>&#x27;txt&#x27;</code>, <code>&#x27;csv&#x27;</code>, or <code>&#x27;html&#x27;</code>.  Modify <code>portfolio_report()</code> so that it
looks like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">portfolio_report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">portfoliofile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> pricefile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> fmt</span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;txt&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">&#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    Make a stock report given portfolio and price data files.</span></div><div class="token-line" style="color:#9EFEFF"><span class="token triple-quoted-string string" style="color:rgb(165, 255, 144)">    &#x27;&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Read data files</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    portfolio </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> read_portfolio</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">portfoliofile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    prices </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> read_prices</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">pricefile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Create the report data</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    report </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> make_report_data</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">portfolio</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> prices</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># Print it out</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    formatter </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> tableformat</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">create_formatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">fmt</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    print_report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> formatter</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Try calling the function with different formats to make sure it&#x27;s working.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="exercise-48-putting-it-all-together"></a>Exercise 4.8: Putting it all together<a class="hash-link" href="#exercise-48-putting-it-all-together" title="Direct link to heading">#</a></h3><p>Modify the <code>report.py</code> program so that the <code>portfolio_report()</code> function takes
an optional argument specifying the output format. For example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span><span class="token plain"> report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">portfolio_report</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;Data/portfolio.csv&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;Data/prices.csv&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;txt&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      Name     Shares      Price     Change</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        AA        </span><span class="token number" style="color:rgb(255, 98, 140)">100</span><span class="token plain">       </span><span class="token number" style="color:rgb(255, 98, 140)">9.22</span><span class="token plain">     </span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token number" style="color:rgb(255, 98, 140)">22.98</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       IBM         </span><span class="token number" style="color:rgb(255, 98, 140)">50</span><span class="token plain">     </span><span class="token number" style="color:rgb(255, 98, 140)">106.28</span><span class="token plain">      </span><span class="token number" style="color:rgb(255, 98, 140)">15.18</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       CAT        </span><span class="token number" style="color:rgb(255, 98, 140)">150</span><span class="token plain">      </span><span class="token number" style="color:rgb(255, 98, 140)">35.46</span><span class="token plain">     </span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token number" style="color:rgb(255, 98, 140)">47.98</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      MSFT        </span><span class="token number" style="color:rgb(255, 98, 140)">200</span><span class="token plain">      </span><span class="token number" style="color:rgb(255, 98, 140)">20.89</span><span class="token plain">     </span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token number" style="color:rgb(255, 98, 140)">30.34</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        GE         </span><span class="token number" style="color:rgb(255, 98, 140)">95</span><span class="token plain">      </span><span class="token number" style="color:rgb(255, 98, 140)">13.48</span><span class="token plain">     </span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token number" style="color:rgb(255, 98, 140)">26.89</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      MSFT         </span><span class="token number" style="color:rgb(255, 98, 140)">50</span><span class="token plain">      </span><span class="token number" style="color:rgb(255, 98, 140)">20.89</span><span class="token plain">     </span><span class="token operator" style="color:rgb(255, 157, 0)">-</span><span class="token number" style="color:rgb(255, 98, 140)">44.21</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       IBM        </span><span class="token number" style="color:rgb(255, 98, 140)">100</span><span class="token plain">     </span><span class="token number" style="color:rgb(255, 98, 140)">106.28</span><span class="token plain">      </span><span class="token number" style="color:rgb(255, 98, 140)">35.84</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;&gt;</span><span class="token operator" style="color:rgb(255, 157, 0)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Modify the main program so that a format can be given on the command line:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token function" style="color:rgb(250, 208, 0)">bash</span><span class="token plain"> $ python3 report.py Data/portfolio.csv Data/prices.csv csv</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Name,Shares,Price,Change</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">AA,100,9.22,-22.98</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">IBM,50,106.28,15.18</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">CAT,150,35.46,-47.98</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">MSFT,200,20.89,-30.34</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">GE,95,13.48,-26.89</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">MSFT,50,20.89,-44.21</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">IBM,100,106.28,35.84</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token function" style="color:rgb(250, 208, 0)">bash</span><span class="token plain"> $</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="discussion"></a>Discussion<a class="hash-link" href="#discussion" title="Direct link to heading">#</a></h3><p>Writing extensible code is one of the most common uses of inheritance
in libraries and frameworks.  For example, a framework might instruct
you to define your own object that inherits from a provided base
class.  You&#x27;re then told to fill in various methods that implement
various bits of functionality.</p><p>Another somewhat deeper concept is the idea of &quot;owning your
abstractions.&quot;  In the exercises, we defined <em>our own class</em> for
formatting a table.  You may look at your code and tell yourself &quot;I should
just use a formatting library or something that someone else already
made instead!&quot;  No, you should use BOTH your class and a library.
Using your own class promotes loose coupling and is more flexible.
As long as your application uses the programming interface of your class,
you can change the internal implementation to work in any way that you
want.  You can write all-custom code.  You can use someone&#x27;s third
party package.  You swap out one third-party package for a different
package when you find a better one.  It doesn&#x27;t matter--none of
your application code will break as long as you preserve keep the
interface.   That&#x27;s a powerful idea and it&#x27;s one of the reasons why
you might consider inheritance for something like this.</p><p>That said, designing object oriented programs can be extremely
difficult.  For more information, you should probably look for books
on the topic of design patterns (although understanding what happened
in this exercise will take you pretty far in terms of using objects in
a practically useful way).</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/python/classes_objects/class"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Class</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/python/classes_objects/special_methods"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Special Methods »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#extending" class="table-of-contents__link">Extending</a></li><li><a href="#example" class="table-of-contents__link">Example</a></li><li><a href="#add-a-new-method" class="table-of-contents__link">Add a new method</a></li><li><a href="#redefining-an-existing-method" class="table-of-contents__link">Redefining an existing method</a></li><li><a href="#overriding" class="table-of-contents__link">Overriding</a><ul><li><a href="#__init__-and-inheritance" class="table-of-contents__link"><code>__init__</code> and inheritance</a></li><li><a href="#using-inheritance" class="table-of-contents__link">Using Inheritance</a></li><li><a href="#is-a-relationship" class="table-of-contents__link">&quot;is a&quot; relationship</a></li><li><a href="#object-base-class" class="table-of-contents__link"><code>object</code> base class</a></li><li><a href="#multiple-inheritance" class="table-of-contents__link">Multiple Inheritance</a></li></ul></li><li><a href="#exercises" class="table-of-contents__link">Exercises</a><ul><li><a href="#exercise-45-an-extensibility-problem" class="table-of-contents__link">Exercise 4.5: An Extensibility Problem</a></li><li><a href="#exercise-46-using-inheritance-to-produce-different-output" class="table-of-contents__link">Exercise 4.6: Using Inheritance to Produce Different Output</a></li><li><a href="#exercise-47-polymorphism-in-action" class="table-of-contents__link">Exercise 4.7: Polymorphism in Action</a></li><li><a href="#exercise-48-putting-it-all-together" class="table-of-contents__link">Exercise 4.8: Putting it all together</a></li><li><a href="#discussion" class="table-of-contents__link">Discussion</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright"><p>all of them<strong> copyleft</strong></p><p></p></div></div></div></footer></div>
<script src="/assets/js/styles.151f6cf7.js"></script>
<script src="/assets/js/runtime~main.6b0f2b72.js"></script>
<script src="/assets/js/main.196fcac7.js"></script>
<script src="/assets/js/1.42c2f5ab.js"></script>
<script src="/assets/js/2.096c9740.js"></script>
<script src="/assets/js/47.c14c18f2.js"></script>
<script src="/assets/js/49.ef97560e.js"></script>
<script src="/assets/js/935f2afb.34650ca0.js"></script>
<script src="/assets/js/17896441.cf215be5.js"></script>
<script src="/assets/js/4af3ea92.b16e3287.js"></script>
</body>
</html>