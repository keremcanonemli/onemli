(window.webpackJsonp=window.webpackJsonp||[]).push([[192],{265:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return a})),t.d(n,"toc",(function(){return s})),t.d(n,"default",(function(){return b}));var o=t(3),r=t(8),i=(t(0),t(280)),c={id:"conversion_between_bytes_and_strings",title:"Conversion Between Bytes And Strings",sidebar_label:"16.3 Conversion Between Bytes And Strings",slug:"conversion_between_bytes_and_strings",custom_edit_url:null},a={unversionedId:"python/unicode/conversion_between_bytes_and_strings",id:"python/unicode/conversion_between_bytes_and_strings",isDocsHomePage:!1,title:"Conversion Between Bytes And Strings",description:"You can\u2019t avoid working with bytes. For example, when working with a network or a filesystem, most often the result is returned in bytes. Accordingly, you need to know how to convert bytes to string and vice versa. That\u2019s what the encoding is for.",source:"@site/docs/python/unicode/3_conversion_between_bytes.md",slug:"/python/unicode/conversion_between_bytes_and_strings",permalink:"/docs/python/unicode/conversion_between_bytes_and_strings",editUrl:null,version:"current",sidebar_label:"16.3 Conversion Between Bytes And Strings",sidebar:"someSidebar",previous:{title:"Unicode In Python 3",permalink:"/docs/python/unicode/unicode_in_python_3"},next:{title:"Examples Of Converting Between Bytes And Strings",permalink:"/docs/python/unicode/examples_of_converting_between_bytes_and_strings"}},s=[{value:"<code>encode</code>, <code>decode</code>",id:"encode-decode",children:[]},{value:"<code>str.encode</code>, <code>bytes.decode</code>",id:"strencode-bytesdecode",children:[]},{value:"How to work with Unicode and bytes",id:"how-to-work-with-unicode-and-bytes",children:[]}],d={toc:s};function b(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(o.a)({},d,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,"You can\u2019t avoid working with bytes. For example, when working with a network or a filesystem, most often the result is returned in bytes. Accordingly, you need to know how to convert bytes to string and vice versa. That\u2019s what the encoding is for."),Object(i.b)("p",null,"Encoding can be represented as an encryption key that specifies:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"how to \u201cencrypt\u201d a string to bytes (str -> bytes). Encode method used (similar to encrypt)"),Object(i.b)("li",{parentName:"ul"},"how to \u201cdecrypt\u201d bytes to string (bytes -> str). Decode method used (similar to decrypt)")),Object(i.b)("p",null,"This analogy makes it clear that string-byte and byte-string transformations must use the same encoding."),Object(i.b)("h2",{id:"encode-decode"},Object(i.b)("inlineCode",{parentName:"h2"},"encode"),", ",Object(i.b)("inlineCode",{parentName:"h2"},"decode")),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"encode")," method is used to convert string to bytes:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-python"},"In [1]: hi = '\u043f\u0440\u0438\u0432\u0435\u0442'\n\nIn [2]: hi.encode('utf-8')\nOut[2]: b'\\xd0\\xbf\\xd1\\x80\\xd0\\xb8\\xd0\\xb2\\xd0\\xb5\\xd1\\x82'\n\nIn [3]: hi_bytes = hi.encode('utf-8')\n")),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"decode")," method to get a string from bytes:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-python"},"In [4]: hi_bytes\nOut[4]: b'\\xd0\\xbf\\xd1\\x80\\xd0\\xb8\\xd0\\xb2\\xd0\\xb5\\xd1\\x82'\n\nIn [5]: hi_bytes.decode('utf-8')\nOut[5]: '\u043f\u0440\u0438\u0432\u0435\u0442'\n")),Object(i.b)("h2",{id:"strencode-bytesdecode"},Object(i.b)("inlineCode",{parentName:"h2"},"str.encode"),", ",Object(i.b)("inlineCode",{parentName:"h2"},"bytes.decode")),Object(i.b)("p",null,"Method ",Object(i.b)("inlineCode",{parentName:"p"},"encode")," is also present in str class (as are other methods of working with strings):"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-python"},"In [6]: hi\nOut[6]: '\u043f\u0440\u0438\u0432\u0435\u0442'\n\nIn [7]: str.encode(hi, encoding='utf-8')\nOut[7]: b'\\xd0\\xbf\\xd1\\x80\\xd0\\xb8\\xd0\\xb2\\xd0\\xb5\\xd1\\x82'\n")),Object(i.b)("p",null,"And ",Object(i.b)("inlineCode",{parentName:"p"},"decode")," method is available in bytes class (like other methods):"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-python"},"In [8]: hi_bytes\nOut[8]: b'\\xd0\\xbf\\xd1\\x80\\xd0\\xb8\\xd0\\xb2\\xd0\\xb5\\xd1\\x82'\n\nIn [9]: bytes.decode(hi_bytes, encoding='utf-8')\nOut[9]: '\u043f\u0440\u0438\u0432\u0435\u0442'\n")),Object(i.b)("p",null,"In these methods, encoding can be used as a key argument (examples above) or as a positional argument:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-python"},"In [10]: hi_bytes\nOut[10]: b'\\xd0\\xbf\\xd1\\x80\\xd0\\xb8\\xd0\\xb2\\xd0\\xb5\\xd1\\x82'\n\nIn [11]: bytes.decode(hi_bytes, 'utf-8')\nOut[11]: '\u043f\u0440\u0438\u0432\u0435\u0442'\n")),Object(i.b)("h2",{id:"how-to-work-with-unicode-and-bytes"},"How to work with Unicode and bytes"),Object(i.b)("p",null,"There is a rule called a \u201cUnicode sandwich\u201d:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"bytes that the program reads must be converted to Unicode (string) as early as possible"),Object(i.b)("li",{parentName:"ul"},"inside the program work with Unicode"),Object(i.b)("li",{parentName:"ul"},"Unicode must be converted to bytes as soon as possible before transmitting")))}b.isMDXComponent=!0},280:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return y}));var o=t(0),r=t.n(o);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var d=r.a.createContext({}),b=function(e){var n=r.a.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},l=function(e){var n=b(e.components);return r.a.createElement(d.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},p=r.a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),l=b(t),p=o,y=l["".concat(c,".").concat(p)]||l[p]||u[p]||i;return t?r.a.createElement(y,a(a({ref:n},d),{},{components:t})):r.a.createElement(y,a({ref:n},d))}));function y(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,c=new Array(i);c[0]=p;var a={};for(var s in n)hasOwnProperty.call(n,s)&&(a[s]=n[s]);a.originalType=e,a.mdxType="string"==typeof e?e:o,c[1]=a;for(var d=2;d<i;d++)c[d]=t[d];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,t)}p.displayName="MDXCreateElement"}}]);